import{g as jr,c as Rt,R as J,r as S,a as Au,j as R,A as Nt}from"./index-3cIV4SDR.js";import{T as Fu,I as pa,g as bu,d as wu,B as ar}from"./index-oQiq2Htf.js";import{C as yu}from"./utils-Wq2zI08Y.js";import{S as ur}from"./index-VqfKRMiJ.js";import{g as Ou}from"./utils-625fsP2h.js";var He={};Object.defineProperty(He,"__esModule",{value:!0});var xu=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),sr={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},Ba={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:xu?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},Rr={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var Mt=1;Mt<20;Mt++)Rr["f"+Mt]=111+Mt;function Zt(t,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(t)||(t=[t]);var n=t.map(function(s){return Ea(s,e)}),a=function(l){return n.some(function(c){return Aa(c,l)})},u=r==null?a:a(r);return u}function Su(t,e){return Zt(t,e)}function Pu(t,e){return Zt(t,{byKey:!0},e)}function Ea(t,e){var r=e&&e.byKey,n={};t=t.replace("++","+add");var a=t.split("+"),u=a.length;for(var s in sr)n[sr[s]]=!1;var l=!0,c=!1,f=void 0;try{for(var v=a[Symbol.iterator](),g;!(l=(g=v.next()).done);l=!0){var h=g.value,C=h.endsWith("?")&&h.length>1;C&&(h=h.slice(0,-1));var D=Nr(h),o=sr[D];if(h.length>1&&!o&&!Ba[h]&&!Rr[D])throw new TypeError('Unknown modifier: "'+h+'"');(u===1||!o)&&(r?n.key=D:n.which=Fa(h)),o&&(n[o]=C?null:!0)}}catch(p){c=!0,f=p}finally{try{!l&&v.return&&v.return()}finally{if(c)throw f}}return n}function Aa(t,e){for(var r in t){var n=t[r],a=void 0;if(n!=null&&(r==="key"&&e.key!=null?a=e.key.toLowerCase():r==="which"?a=n===91&&e.which===93?91:e.which:a=e[r],!(a==null&&n===!1)&&a!==n))return!1}return!0}function Fa(t){t=Nr(t);var e=Rr[t]||t.toUpperCase().charCodeAt(0);return e}function Nr(t){return t=t.toLowerCase(),t=Ba[t]||t,t}var Tu=He.default=Zt,ir=He.isHotkey=Zt;He.isCodeHotkey=Su;He.isKeyHotkey=Pu;He.parseHotkey=Ea;He.compareHotkey=Aa;He.toKeyCode=Fa;He.toKeyName=Nr;var ju=Mu,ba="֑-߿יִ-﷽ﹰ-ﻼ",wa="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Ru=new RegExp("^[^"+wa+"]*["+ba+"]"),Nu=new RegExp("^[^"+ba+"]*["+wa+"]");function Mu(t){return t=String(t||""),Ru.test(t)?"rtl":Nu.test(t)?"ltr":"neutral"}const ya=jr(ju);function ku(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Mr=ku,Iu=typeof Rt=="object"&&Rt&&Rt.Object===Object&&Rt,Lu=Iu,$u=Lu,zu=typeof self=="object"&&self&&self.Object===Object&&self,Wu=$u||zu||Function("return this")(),Oa=Wu,qu=Oa,Hu=function(){return qu.Date.now()},Vu=Hu,Ku=/\s/;function Uu(t){for(var e=t.length;e--&&Ku.test(t.charAt(e)););return e}var Gu=Uu,Yu=Gu,Xu=/^\s+/;function Ju(t){return t&&t.slice(0,Yu(t)+1).replace(Xu,"")}var Zu=Ju,Qu=Oa,_u=Qu.Symbol,xa=_u,Jr=xa,Sa=Object.prototype,es=Sa.hasOwnProperty,ts=Sa.toString,mt=Jr?Jr.toStringTag:void 0;function rs(t){var e=es.call(t,mt),r=t[mt];try{t[mt]=void 0;var n=!0}catch{}var a=ts.call(t);return n&&(e?t[mt]=r:delete t[mt]),a}var ns=rs,as=Object.prototype,us=as.toString;function ss(t){return us.call(t)}var is=ss,Zr=xa,os=ns,ls=is,fs="[object Null]",cs="[object Undefined]",Qr=Zr?Zr.toStringTag:void 0;function vs(t){return t==null?t===void 0?cs:fs:Qr&&Qr in Object(t)?os(t):ls(t)}var ds=vs;function Ds(t){return t!=null&&typeof t=="object"}var gs=Ds,hs=ds,ms=gs,Cs="[object Symbol]";function ps(t){return typeof t=="symbol"||ms(t)&&hs(t)==Cs}var Bs=ps,Es=Zu,_r=Mr,As=Bs,en=NaN,Fs=/^[-+]0x[0-9a-f]+$/i,bs=/^0b[01]+$/i,ws=/^0o[0-7]+$/i,ys=parseInt;function Os(t){if(typeof t=="number")return t;if(As(t))return en;if(_r(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_r(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Es(t);var r=bs.test(t);return r||ws.test(t)?ys(t.slice(2),r?2:8):Fs.test(t)?en:+t}var xs=Os,Ss=Mr,or=Vu,tn=xs,Ps="Expected a function",Ts=Math.max,js=Math.min;function Rs(t,e,r){var n,a,u,s,l,c,f=0,v=!1,g=!1,h=!0;if(typeof t!="function")throw new TypeError(Ps);e=tn(e)||0,Ss(r)&&(v=!!r.leading,g="maxWait"in r,u=g?Ts(tn(r.maxWait)||0,e):u,h="trailing"in r?!!r.trailing:h);function C(L){var b=n,V=a;return n=a=void 0,f=L,s=t.apply(V,b),s}function D(L){return f=L,l=setTimeout(E,e),v?C(L):s}function o(L){var b=L-c,V=L-f,I=e-b;return g?js(I,u-V):I}function p(L){var b=L-c,V=L-f;return c===void 0||b>=e||b<0||g&&V>=u}function E(){var L=or();if(p(L))return A(L);l=setTimeout(E,o(L))}function A(L){return l=void 0,h&&n?C(L):(n=a=void 0,s)}function x(){l!==void 0&&clearTimeout(l),f=0,n=c=a=l=void 0}function O(){return l===void 0?s:A(or())}function k(){var L=or(),b=p(L);if(n=arguments,a=this,c=L,b){if(l===void 0)return D(c);if(g)return clearTimeout(l),l=setTimeout(E,e),C(c)}return l===void 0&&(l=setTimeout(E,e)),s}return k.cancel=x,k.flush=O,k}var Pa=Rs;const Ns=jr(Pa);var Ms=Pa,ks=Mr,Is="Expected a function";function Ls(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(Is);return ks(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Ms(t,e,{leading:n,maxWait:e,trailing:a})}var $s=Ls;const zs=jr($s),rn=t=>typeof t=="object"&&t!=null&&t.nodeType===1,nn=(t,e)=>(!e||t!=="hidden")&&t!=="visible"&&t!=="clip",lr=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const r=getComputedStyle(t,null);return nn(r.overflowY,e)||nn(r.overflowX,e)||(n=>{const a=(u=>{if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!a&&(a.clientHeight<n.scrollHeight||a.clientWidth<n.scrollWidth)})(t)}return!1},kt=(t,e,r,n,a,u,s,l)=>u<t&&s>e||u>t&&s<e?0:u<=t&&l<=r||s>=e&&l>=r?u-t-n:s>e&&l<r||u<t&&l>r?s-e+a:0,Ws=t=>{const e=t.parentElement;return e??(t.getRootNode().host||null)},an=(t,e)=>{var r,n,a,u;if(typeof document>"u")return[];const{scrollMode:s,block:l,inline:c,boundary:f,skipOverflowHiddenElements:v}=e,g=typeof f=="function"?f:Q=>Q!==f;if(!rn(t))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,C=[];let D=t;for(;rn(D)&&g(D);){if(D=Ws(D),D===h){C.push(D);break}D!=null&&D===document.body&&lr(D)&&!lr(document.documentElement)||D!=null&&lr(D,v)&&C.push(D)}const o=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,p=(u=(a=window.visualViewport)==null?void 0:a.height)!=null?u:innerHeight,{scrollX:E,scrollY:A}=window,{height:x,width:O,top:k,right:L,bottom:b,left:V}=t.getBoundingClientRect(),{top:I,right:q,bottom:G,left:M}=(Q=>{const U=window.getComputedStyle(Q);return{top:parseFloat(U.scrollMarginTop)||0,right:parseFloat(U.scrollMarginRight)||0,bottom:parseFloat(U.scrollMarginBottom)||0,left:parseFloat(U.scrollMarginLeft)||0}})(t);let T=l==="start"||l==="nearest"?k-I:l==="end"?b+G:k+x/2-I+G,P=c==="center"?V+O/2-M+q:c==="end"?L+q:V-M;const z=[];for(let Q=0;Q<C.length;Q++){const U=C[Q],{height:ue,width:Y,top:re,right:ve,bottom:se,left:be}=U.getBoundingClientRect();if(s==="if-needed"&&k>=0&&V>=0&&b<=p&&L<=o&&k>=re&&b<=se&&V>=be&&L<=ve)return z;const m=getComputedStyle(U),N=parseInt(m.borderLeftWidth,10),y=parseInt(m.borderTopWidth,10),$=parseInt(m.borderRightWidth,10),_=parseInt(m.borderBottomWidth,10);let K=0,Z=0;const ae="offsetWidth"in U?U.offsetWidth-U.clientWidth-N-$:0,ne="offsetHeight"in U?U.offsetHeight-U.clientHeight-y-_:0,ie="offsetWidth"in U?U.offsetWidth===0?0:Y/U.offsetWidth:0,te="offsetHeight"in U?U.offsetHeight===0?0:ue/U.offsetHeight:0;if(h===U)K=l==="start"?T:l==="end"?T-p:l==="nearest"?kt(A,A+p,p,y,_,A+T,A+T+x,x):T-p/2,Z=c==="start"?P:c==="center"?P-o/2:c==="end"?P-o:kt(E,E+o,o,N,$,E+P,E+P+O,O),K=Math.max(0,K+A),Z=Math.max(0,Z+E);else{K=l==="start"?T-re-y:l==="end"?T-se+_+ne:l==="nearest"?kt(re,se,ue,y,_+ne,T,T+x,x):T-(re+ue/2)+ne/2,Z=c==="start"?P-be-N:c==="center"?P-(be+Y/2)+ae/2:c==="end"?P-ve+$+ae:kt(be,ve,Y,N,$+ae,P,P+O,O);const{scrollLeft:De,scrollTop:ge}=U;K=te===0?0:Math.max(0,Math.min(ge+K/te,U.scrollHeight-ue/te+ne)),Z=ie===0?0:Math.max(0,Math.min(De+Z/ie,U.scrollWidth-Y/ie+ae)),T+=ge-K,P+=De-Z}z.push({el:U,top:K,left:Z})}return z},qs=t=>t===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(t)?t:{block:"start",inline:"nearest"};function Hs(t,e){if(!t.isConnected||!(a=>{let u=a;for(;u&&u.parentNode;){if(u.parentNode===document)return!0;u=u.parentNode instanceof ShadowRoot?u.parentNode.host:u.parentNode}return!1})(t))return;const r=(a=>{const u=window.getComputedStyle(a);return{top:parseFloat(u.scrollMarginTop)||0,right:parseFloat(u.scrollMarginRight)||0,bottom:parseFloat(u.scrollMarginBottom)||0,left:parseFloat(u.scrollMarginLeft)||0}})(t);if((a=>typeof a=="object"&&typeof a.behavior=="function")(e))return e.behavior(an(t,e));const n=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:a,top:u,left:s}of an(t,qs(e))){const l=u-r.top+r.bottom,c=s-r.left+r.right;a.scroll({top:l,left:c,behavior:n})}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function un(t){return Object.prototype.toString.call(t)==="[object Object]"}function pe(t){var e,r;return un(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(un(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}var Ta=Symbol.for("immer-nothing"),sn=Symbol.for("immer-draftable"),Oe=Symbol.for("immer-state");function Me(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var dt=Object.getPrototypeOf;function ut(t){return!!t&&!!t[Oe]}function st(t){var e;return t?ja(t)||Array.isArray(t)||!!t[sn]||!!((e=t.constructor)!=null&&e[sn])||_t(t)||er(t):!1}var Vs=Object.prototype.constructor.toString();function ja(t){if(!t||typeof t!="object")return!1;const e=dt(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Vs}function Ft(t,e){Qt(t)===0?Object.entries(t).forEach(([r,n])=>{e(r,n,t)}):t.forEach((r,n)=>e(n,r,t))}function Qt(t){const e=t[Oe];return e?e.type_:Array.isArray(t)?1:_t(t)?2:er(t)?3:0}function Cr(t,e){return Qt(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ra(t,e,r){const n=Qt(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Ks(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function _t(t){return t instanceof Map}function er(t){return t instanceof Set}function et(t){return t.copy_||t.base_}function pr(t,e){if(_t(t))return new Map(t);if(er(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&ja(t))return dt(t)?{...t}:Object.assign(Object.create(null),t);const r=Object.getOwnPropertyDescriptors(t);delete r[Oe];let n=Reflect.ownKeys(r);for(let a=0;a<n.length;a++){const u=n[a],s=r[u];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[u]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[u]})}return Object.create(dt(t),r)}function kr(t,e=!1){return tr(t)||ut(t)||!st(t)||(Qt(t)>1&&(t.set=t.add=t.clear=t.delete=Us),Object.freeze(t),e&&Ft(t,(r,n)=>kr(n,!0))),t}function Us(){Me(2)}function tr(t){return Object.isFrozen(t)}var Gs={};function it(t){const e=Gs[t];return e||Me(0,t),e}var bt;function Na(){return bt}function Ys(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function on(t,e){e&&(it("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Br(t){Er(t),t.drafts_.forEach(Xs),t.drafts_=null}function Er(t){t===bt&&(bt=t.parent_)}function ln(t){return bt=Ys(bt,t)}function Xs(t){const e=t[Oe];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function fn(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Oe].modified_&&(Br(e),Me(4)),st(t)&&(t=Ut(e,t),e.parent_||Gt(e,t)),e.patches_&&it("Patches").generateReplacementPatches_(r[Oe].base_,t,e.patches_,e.inversePatches_)):t=Ut(e,r,[]),Br(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Ta?t:void 0}function Ut(t,e,r){if(tr(e))return e;const n=e[Oe];if(!n)return Ft(e,(a,u)=>cn(t,n,e,a,u,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Gt(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let u=a,s=!1;n.type_===3&&(u=new Set(a),a.clear(),s=!0),Ft(u,(l,c)=>cn(t,n,a,l,c,r,s)),Gt(t,a,!1),r&&t.patches_&&it("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function cn(t,e,r,n,a,u,s){if(ut(a)){const l=u&&e&&e.type_!==3&&!Cr(e.assigned_,n)?u.concat(n):void 0,c=Ut(t,a,l);if(Ra(r,n,c),ut(c))t.canAutoFreeze_=!1;else return}else s&&r.add(a);if(st(a)&&!tr(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Ut(t,a),(!e||!e.scope_.parent_)&&Gt(t,a)}}function Gt(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&kr(e,r)}function Js(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:Na(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,u=Ir;r&&(a=[n],u=wt);const{revoke:s,proxy:l}=Proxy.revocable(a,u);return n.draft_=l,n.revoke_=s,l}var Ir={get(t,e){if(e===Oe)return t;const r=et(t);if(!Cr(r,e))return Zs(t,r,e);const n=r[e];return t.finalized_||!st(n)?n:n===fr(t.base_,e)?(cr(t),t.copy_[e]=Fr(n,t)):n},has(t,e){return e in et(t)},ownKeys(t){return Reflect.ownKeys(et(t))},set(t,e,r){const n=Ma(et(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const a=fr(et(t),e),u=a==null?void 0:a[Oe];if(u&&u.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Ks(r,a)&&(r!==void 0||Cr(t.base_,e)))return!0;cr(t),Ar(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return fr(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,cr(t),Ar(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=et(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){Me(11)},getPrototypeOf(t){return dt(t.base_)},setPrototypeOf(){Me(12)}},wt={};Ft(Ir,(t,e)=>{wt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});wt.deleteProperty=function(t,e){return wt.set.call(this,t,e,void 0)};wt.set=function(t,e,r){return Ir.set.call(this,t[0],e,r,t[0])};function fr(t,e){const r=t[Oe];return(r?et(r):t)[e]}function Zs(t,e,r){var a;const n=Ma(e,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(t.draft_):void 0}function Ma(t,e){if(!(e in t))return;let r=dt(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=dt(r)}}function Ar(t){t.modified_||(t.modified_=!0,t.parent_&&Ar(t.parent_))}function cr(t){t.copy_||(t.copy_=pr(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Qs=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const u=r;r=e;const s=this;return function(c=u,...f){return s.produce(c,v=>r.call(this,v,...f))}}typeof r!="function"&&Me(6),n!==void 0&&typeof n!="function"&&Me(7);let a;if(st(e)){const u=ln(this),s=Fr(e,void 0);let l=!0;try{a=r(s),l=!1}finally{l?Br(u):Er(u)}return on(u,n),fn(a,u)}else if(!e||typeof e!="object"){if(a=r(e),a===void 0&&(a=e),a===Ta&&(a=void 0),this.autoFreeze_&&kr(a,!0),n){const u=[],s=[];it("Patches").generateReplacementPatches_(e,a,u,s),n(u,s)}return a}else Me(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,c=>e(c,...l));let n,a;return[this.produce(e,r,(s,l)=>{n=s,a=l}),n,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){st(t)||Me(8),ut(t)&&(t=_s(t));const e=ln(this),r=Fr(t,void 0);return r[Oe].isManual_=!0,Er(e),r}finishDraft(t,e){const r=t&&t[Oe];(!r||!r.isManual_)&&Me(9);const{scope_:n}=r;return on(n,e),fn(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const a=e[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(e=e.slice(r+1));const n=it("Patches").applyPatches_;return ut(t)?n(t,e):this.produce(t,a=>n(a,e))}};function Fr(t,e){const r=_t(t)?it("MapSet").proxyMap_(t,e):er(t)?it("MapSet").proxySet_(t,e):Js(t,e);return(e?e.scope_:Na()).drafts_.push(r),r}function _s(t){return ut(t)||Me(10,t),ka(t)}function ka(t){if(!st(t)||tr(t))return t;const e=t[Oe];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=pr(t,e.scope_.immer_.useStrictShallowCopy_)}else r=pr(t,!0);return Ft(r,(n,a)=>{Ra(r,n,ka(a))}),e&&(e.finalized_=!1),r}var xe=new Qs,Lr=xe.produce;xe.produceWithPatches.bind(xe);xe.setAutoFreeze.bind(xe);xe.setUseStrictShallowCopy.bind(xe);xe.applyPatches.bind(xe);var vn=xe.createDraft.bind(xe),dn=xe.finishDraft.bind(xe),ei={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var a=d.transform(r,e,{affinity:n});t.current=a,a==null&&t.unref()}}},ti={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var a=ee.transform(r,e,{affinity:n});t.current=a,a==null&&t.unref()}}},ri={transform(t,e){var{current:r,affinity:n}=t;if(r!=null){var a=B.transform(r,e,{affinity:n});t.current=a,a==null&&t.unref()}}},Yt=new WeakMap,Xt=new WeakMap,Bt=new WeakMap,Ia=new WeakMap,Dn=new WeakMap,gn=new WeakMap,hn=new WeakMap,d={ancestors(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=d.levels(t,e);return r?n=n.slice(1):n=n.slice(0,-1),n},common(t,e){for(var r=[],n=0;n<t.length&&n<e.length;n++){var a=t[n],u=e[n];if(a!==u)break;r.push(a)}return r},compare(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++){if(t[n]<e[n])return-1;if(t[n]>e[n])return 1}return 0},endsAfter(t,e){var r=t.length-1,n=t.slice(0,r),a=e.slice(0,r),u=t[r],s=e[r];return d.equals(n,a)&&u>s},endsAt(t,e){var r=t.length,n=t.slice(0,r),a=e.slice(0,r);return d.equals(n,a)},endsBefore(t,e){var r=t.length-1,n=t.slice(0,r),a=e.slice(0,r),u=t[r],s=e[r];return d.equals(n,a)&&u<s},equals(t,e){return t.length===e.length&&t.every((r,n)=>r===e[n])},hasPrevious(t){return t[t.length-1]>0},isAfter(t,e){return d.compare(t,e)===1},isAncestor(t,e){return t.length<e.length&&d.compare(t,e)===0},isBefore(t,e){return d.compare(t,e)===-1},isChild(t,e){return t.length===e.length+1&&d.compare(t,e)===0},isCommon(t,e){return t.length<=e.length&&d.compare(t,e)===0},isDescendant(t,e){return t.length>e.length&&d.compare(t,e)===0},isParent(t,e){return t.length+1===e.length&&d.compare(t,e)===0},isPath(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="number")},isSibling(t,e){if(t.length!==e.length)return!1;var r=t.slice(0,-1),n=e.slice(0,-1),a=t[t.length-1],u=e[e.length-1];return a!==u&&d.equals(r,n)},levels(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,n=[],a=0;a<=t.length;a++)n.push(t.slice(0,a));return r&&n.reverse(),n},next(t){if(t.length===0)throw new Error("Cannot get the next path of a root path [".concat(t,"], because it has no next index."));var e=t[t.length-1];return t.slice(0,-1).concat(e+1)},operationCanTransformPath(t){switch(t.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(t){if(t.length===0)throw new Error("Cannot get the parent path of the root path [".concat(t,"]."));return t.slice(0,-1)},previous(t){if(t.length===0)throw new Error("Cannot get the previous path of a root path [".concat(t,"], because it has no previous index."));var e=t[t.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(t,"] because it would result in a negative index."));return t.slice(0,-1).concat(e-1)},relative(t,e){if(!d.isAncestor(e,t)&&!d.equals(t,e))throw new Error("Cannot get the relative path of [".concat(t,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return t.slice(e.length)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return null;var n=[...t],{affinity:a="forward"}=r;if(t.length===0)return n;switch(e.type){case"insert_node":{var{path:u}=e;(d.equals(u,n)||d.endsBefore(u,n)||d.isAncestor(u,n))&&(n[u.length-1]+=1);break}case"remove_node":{var{path:s}=e;if(d.equals(s,n)||d.isAncestor(s,n))return null;d.endsBefore(s,n)&&(n[s.length-1]-=1);break}case"merge_node":{var{path:l,position:c}=e;d.equals(l,n)||d.endsBefore(l,n)?n[l.length-1]-=1:d.isAncestor(l,n)&&(n[l.length-1]-=1,n[l.length]+=c);break}case"split_node":{var{path:f,position:v}=e;if(d.equals(f,n)){if(a==="forward")n[n.length-1]+=1;else if(a!=="backward")return null}else d.endsBefore(f,n)?n[f.length-1]+=1:d.isAncestor(f,n)&&t[f.length]>=v&&(n[f.length-1]+=1,n[f.length]-=v);break}case"move_node":{var{path:g,newPath:h}=e;if(d.equals(g,h))return n;if(d.isAncestor(g,n)||d.equals(g,n)){var C=h.slice();return d.endsBefore(g,h)&&g.length<h.length&&(C[g.length-1]-=1),C.concat(n.slice(g.length))}else d.isSibling(g,h)&&(d.isAncestor(h,n)||d.equals(h,n))?d.endsBefore(g,n)?n[g.length-1]-=1:n[g.length-1]+=1:d.endsBefore(h,n)||d.equals(h,n)||d.isAncestor(h,n)?(d.endsBefore(g,n)&&(n[g.length-1]-=1),n[h.length-1]+=1):d.endsBefore(g,n)&&(d.equals(h,n)&&(n[h.length-1]+=1),n[g.length-1]-=1);break}}return n}};function yt(t){"@babel/helpers - typeof";return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(t)}function ni(t,e){if(yt(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(yt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ai(t){var e=ni(t,"string");return yt(e)==="symbol"?e:String(e)}function Fe(t,e,r){return e=ai(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ui=(t,e,r)=>{switch(r.type){case"insert_node":{var{path:n,node:a}=r,u=j.parent(t,n),s=n[n.length-1];if(s>u.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(n,"] because the destination is past the end of the node."));if(u.children.splice(s,0,a),e)for(var[l,c]of B.points(e))e[c]=ee.transform(l,r);break}case"insert_text":{var{path:f,offset:v,text:g}=r;if(g.length===0)break;var h=j.leaf(t,f),C=h.text.slice(0,v),D=h.text.slice(v);if(h.text=C+g+D,e)for(var[o,p]of B.points(e))e[p]=ee.transform(o,r);break}case"merge_node":{var{path:E}=r,A=j.get(t,E),x=d.previous(E),O=j.get(t,x),k=j.parent(t,E),L=E[E.length-1];if(H.isText(A)&&H.isText(O))O.text+=A.text;else if(!H.isText(A)&&!H.isText(O))O.children.push(...A.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(E,"] to nodes of different interfaces: ").concat(Ce.stringify(A)," ").concat(Ce.stringify(O)));if(k.children.splice(L,1),e)for(var[b,V]of B.points(e))e[V]=ee.transform(b,r);break}case"move_node":{var{path:I,newPath:q}=r;if(d.isAncestor(I,q))throw new Error("Cannot move a path [".concat(I,"] to new path [").concat(q,"] because the destination is inside itself."));var G=j.get(t,I),M=j.parent(t,I),T=I[I.length-1];M.children.splice(T,1);var P=d.transform(I,r),z=j.get(t,d.parent(P)),Q=P[P.length-1];if(z.children.splice(Q,0,G),e)for(var[U,ue]of B.points(e))e[ue]=ee.transform(U,r);break}case"remove_node":{var{path:Y}=r,re=Y[Y.length-1],ve=j.parent(t,Y);if(ve.children.splice(re,1),e)for(var[se,be]of B.points(e)){var m=ee.transform(se,r);if(e!=null&&m!=null)e[be]=m;else{var N=void 0,y=void 0;for(var[$,_]of j.texts(t))if(d.compare(_,Y)===-1)N=[$,_];else{y=[$,_];break}var K=!1;N&&y&&(d.equals(y[1],Y)?K=!d.hasPrevious(y[1]):K=d.common(N[1],Y).length<d.common(y[1],Y).length),N&&!K?(se.path=N[1],se.offset=N[0].text.length):y?(se.path=y[1],se.offset=0):e=null}}break}case"remove_text":{var{path:Z,offset:ae,text:ne}=r;if(ne.length===0)break;var ie=j.leaf(t,Z),te=ie.text.slice(0,ae),De=ie.text.slice(ae+ne.length);if(ie.text=te+De,e)for(var[ge,de]of B.points(e))e[de]=ee.transform(ge,r);break}case"set_node":{var{path:Te,properties:Ie,newProperties:we}=r;if(Te.length===0)throw new Error("Cannot set properties on the root node!");var je=j.get(t,Te);for(var oe in we){if(oe==="children"||oe==="text")throw new Error('Cannot set the "'.concat(oe,'" property of nodes!'));var Be=we[oe];Be==null?delete je[oe]:je[oe]=Be}for(var he in Ie)we.hasOwnProperty(he)||delete je[he];break}case"set_selection":{var{newProperties:me}=r;if(me==null)e=me;else{if(e==null){if(!B.isRange(me))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Ce.stringify(me)," when there is no current selection."));e=Ct({},me)}for(var Re in me){var Tt=me[Re];if(Tt==null){if(Re==="anchor"||Re==="focus")throw new Error('Cannot remove the "'.concat(Re,'" selection property'));delete e[Re]}else e[Re]=Tt}}break}case"split_node":{var{path:Ne,position:Qe,properties:jt}=r;if(Ne.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Ne,"] because the root node cannot be split."));var _e=j.get(t,Ne),Du=j.parent(t,Ne),gu=Ne[Ne.length-1],nr;if(H.isText(_e)){var hu=_e.text.slice(0,Qe),mu=_e.text.slice(Qe);_e.text=hu,nr=Ct(Ct({},jt),{},{text:mu})}else{var Cu=_e.children.slice(0,Qe),pu=_e.children.slice(Qe);_e.children=Cu,nr=Ct(Ct({},jt),{},{children:pu})}if(Du.children.splice(gu+1,0,nr),e)for(var[Bu,Eu]of B.points(e))e[Eu]=ee.transform(Bu,r);break}}return e},si={transform(t,e){t.children=vn(t.children);var r=t.selection&&vn(t.selection);try{r=ui(t,r,e)}finally{t.children=dn(t.children),r?t.selection=ut(r)?dn(r):r:t.selection=null}}},ii={insertNodes(t,e,r){t.insertNodes(e,r)},liftNodes(t,e){t.liftNodes(e)},mergeNodes(t,e){t.mergeNodes(e)},moveNodes(t,e){t.moveNodes(e)},removeNodes(t,e){t.removeNodes(e)},setNodes(t,e,r){t.setNodes(e,r)},splitNodes(t,e){t.splitNodes(e)},unsetNodes(t,e,r){t.unsetNodes(e,r)},unwrapNodes(t,e){t.unwrapNodes(e)},wrapNodes(t,e,r){t.wrapNodes(e,r)}},oi={collapse(t,e){t.collapse(e)},deselect(t){t.deselect()},move(t,e){t.move(e)},select(t,e){t.select(e)},setPoint(t,e,r){t.setPoint(e,r)},setSelection(t,e){t.setSelection(e)}},La=(t,e)=>{for(var r in t){var n=t[r],a=e[r];if(pe(n)&&pe(a)){if(!La(n,a))return!1}else if(Array.isArray(n)&&Array.isArray(a)){if(n.length!==a.length)return!1;for(var u=0;u<n.length;u++)if(n[u]!==a[u])return!1}else if(n!==a)return!1}for(var s in e)if(t[s]===void 0&&e[s]!==void 0)return!1;return!0};function li(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,u;for(u=0;u<n.length;u++)a=n[u],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function qe(t,e){if(t==null)return{};var r=li(t,e),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(a=0;a<u.length;a++)n=u[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var fi=["anchor","focus"];function Cn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var B={edges(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,{anchor:n,focus:a}=t;return B.isBackward(t)===r?[n,a]:[a,n]},end(t){var[,e]=B.edges(t);return e},equals(t,e){return ee.equals(t.anchor,e.anchor)&&ee.equals(t.focus,e.focus)},includes(t,e){if(B.isRange(e)){if(B.includes(t,e.anchor)||B.includes(t,e.focus))return!0;var[r,n]=B.edges(t),[a,u]=B.edges(e);return ee.isBefore(r,a)&&ee.isAfter(n,u)}var[s,l]=B.edges(t),c=!1,f=!1;return ee.isPoint(e)?(c=ee.compare(e,s)>=0,f=ee.compare(e,l)<=0):(c=d.compare(e,s.path)>=0,f=d.compare(e,l.path)<=0),c&&f},intersection(t,e){var r=qe(t,fi),[n,a]=B.edges(t),[u,s]=B.edges(e),l=ee.isBefore(n,u)?u:n,c=ee.isBefore(a,s)?a:s;return ee.isBefore(c,l)?null:ci({anchor:l,focus:c},r)},isBackward(t){var{anchor:e,focus:r}=t;return ee.isAfter(e,r)},isCollapsed(t){var{anchor:e,focus:r}=t;return ee.equals(e,r)},isExpanded(t){return!B.isCollapsed(t)},isForward(t){return!B.isBackward(t)},isRange(t){return pe(t)&&ee.isPoint(t.anchor)&&ee.isPoint(t.focus)},*points(t){yield[t.anchor,"anchor"],yield[t.focus,"focus"]},start(t){var[e]=B.edges(t);return e},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Lr(t,n=>{if(n===null)return null;var{affinity:a="inward"}=r,u,s;if(a==="inward"){var l=B.isCollapsed(n);B.isForward(n)?(u="forward",s=l?u:"backward"):(u="backward",s=l?u:"forward")}else a==="outward"?B.isForward(n)?(u="backward",s="forward"):(u="forward",s="backward"):(u=a,s=a);var c=ee.transform(n.anchor,e,{affinity:u}),f=ee.transform(n.focus,e,{affinity:s});if(!c||!f)return null;n.anchor=c,n.focus=f})}},pn=t=>pe(t)&&j.isNodeList(t.children)&&!i.isEditor(t),W={isAncestor(t){return pe(t)&&j.isNodeList(t.children)},isElement:pn,isElementList(t){return Array.isArray(t)&&t.every(e=>W.isElement(e))},isElementProps(t){return t.children!==void 0},isElementType:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return pn(e)&&e[n]===r},matches(t,e){for(var r in e)if(r!=="children"&&t[r]!==e[r])return!1;return!0}},vi=["children"],di=["text"],Bn=new WeakMap,j={ancestor(t,e){var r=j.get(t,e);if(H.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Ce.stringify(r)));return r},ancestors(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of d.ancestors(e,r)){var a=j.ancestor(t,n),u=[a,n];yield u}}()},child(t,e){if(H.isText(t))throw new Error("Cannot get the child of a text node: ".concat(Ce.stringify(t)));var r=t.children[e];if(r==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Ce.stringify(t)));return r},children(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:n=!1}=r,a=j.ancestor(t,e),{children:u}=a,s=n?u.length-1:0;n?s>=0:s<u.length;){var l=j.child(a,s),c=e.concat(s);yield[l,c],s=n?s-1:s+1}}()},common(t,e,r){var n=d.common(e,r),a=j.get(t,n);return[a,n]},descendant(t,e){var r=j.get(t,e);if(i.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Ce.stringify(r)));return r},descendants(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of j.nodes(t,e))n.length!==0&&(yield[r,n])}()},elements(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of j.nodes(t,e))W.isElement(r)&&(yield[r,n])}()},extractProps(t){if(W.isAncestor(t)){var e=qe(t,vi);return e}else{var e=qe(t,di);return e}},first(t,e){for(var r=e.slice(),n=j.get(t,r);n&&!(H.isText(n)||n.children.length===0);)n=n.children[0],r.push(0);return[n,r]},fragment(t,e){if(H.isText(t))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Ce.stringify(t)));var r=Lr({children:t.children},n=>{var[a,u]=B.edges(e),s=j.nodes(n,{reverse:!0,pass:h=>{var[,C]=h;return!B.includes(e,C)}});for(var[,l]of s){if(!B.includes(e,l)){var c=j.parent(n,l),f=l[l.length-1];c.children.splice(f,1)}if(d.equals(l,u.path)){var v=j.leaf(n,l);v.text=v.text.slice(0,u.offset)}if(d.equals(l,a.path)){var g=j.leaf(n,l);g.text=g.text.slice(a.offset)}}i.isEditor(n)&&(n.selection=null)});return r.children},get(t,e){for(var r=t,n=0;n<e.length;n++){var a=e[n];if(H.isText(r)||!r.children[a])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Ce.stringify(t)));r=r.children[a]}return r},has(t,e){for(var r=t,n=0;n<e.length;n++){var a=e[n];if(H.isText(r)||!r.children[a])return!1;r=r.children[a]}return!0},isNode(t){return H.isText(t)||W.isElement(t)||i.isEditor(t)},isNodeList(t){if(!Array.isArray(t))return!1;var e=Bn.get(t);if(e!==void 0)return e;var r=t.every(n=>j.isNode(n));return Bn.set(t,r),r},last(t,e){for(var r=e.slice(),n=j.get(t,r);n&&!(H.isText(n)||n.children.length===0);){var a=n.children.length-1;n=n.children[a],r.push(a)}return[n,r]},leaf(t,e){var r=j.get(t,e);if(!H.isText(r))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Ce.stringify(r)));return r},levels(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var n of d.levels(e,r)){var a=j.get(t,n);yield[a,n]}}()},matches(t,e){return W.isElement(t)&&W.isElementProps(e)&&W.matches(t,e)||H.isText(t)&&H.isTextProps(e)&&H.matches(t,e)},nodes(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:n=!1}=e,{from:a=[],to:u}=e,s=new Set,l=[],c=t;!(u&&(n?d.isBefore(l,u):d.isAfter(l,u)));){if(s.has(c)||(yield[c,l]),!s.has(c)&&!H.isText(c)&&c.children.length!==0&&(r==null||r([c,l])===!1)){s.add(c);var f=n?c.children.length-1:0;d.isAncestor(l,a)&&(f=a[l.length]),l=l.concat(f),c=j.get(t,l);continue}if(l.length===0)break;if(!n){var v=d.next(l);if(j.has(t,v)){l=v,c=j.get(t,l);continue}}if(n&&l[l.length-1]!==0){var g=d.previous(l);l=g,c=j.get(t,l);continue}l=d.parent(l),c=j.get(t,l),s.add(c)}}()},parent(t,e){var r=d.parent(e),n=j.get(t,r);if(H.isText(n))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return n},string(t){return H.isText(t)?t.text:t.children.map(j.string).join("")},texts(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,n]of j.nodes(t,e))H.isText(r)&&(yield[r,n])}()}};function En(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?En(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ye={isNodeOperation(t){return Ye.isOperation(t)&&t.type.endsWith("_node")},isOperation(t){if(!pe(t))return!1;switch(t.type){case"insert_node":return d.isPath(t.path)&&j.isNode(t.node);case"insert_text":return typeof t.offset=="number"&&typeof t.text=="string"&&d.isPath(t.path);case"merge_node":return typeof t.position=="number"&&d.isPath(t.path)&&pe(t.properties);case"move_node":return d.isPath(t.path)&&d.isPath(t.newPath);case"remove_node":return d.isPath(t.path)&&j.isNode(t.node);case"remove_text":return typeof t.offset=="number"&&typeof t.text=="string"&&d.isPath(t.path);case"set_node":return d.isPath(t.path)&&pe(t.properties)&&pe(t.newProperties);case"set_selection":return t.properties===null&&B.isRange(t.newProperties)||t.newProperties===null&&B.isRange(t.properties)||pe(t.properties)&&pe(t.newProperties);case"split_node":return d.isPath(t.path)&&typeof t.position=="number"&&pe(t.properties);default:return!1}},isOperationList(t){return Array.isArray(t)&&t.every(e=>Ye.isOperation(e))},isSelectionOperation(t){return Ye.isOperation(t)&&t.type.endsWith("_selection")},isTextOperation(t){return Ye.isOperation(t)&&t.type.endsWith("_text")},inverse(t){switch(t.type){case"insert_node":return le(le({},t),{},{type:"remove_node"});case"insert_text":return le(le({},t),{},{type:"remove_text"});case"merge_node":return le(le({},t),{},{type:"split_node",path:d.previous(t.path)});case"move_node":{var{newPath:e,path:r}=t;if(d.equals(e,r))return t;if(d.isSibling(r,e))return le(le({},t),{},{path:e,newPath:r});var n=d.transform(r,t),a=d.transform(d.next(r),t);return le(le({},t),{},{path:n,newPath:a})}case"remove_node":return le(le({},t),{},{type:"insert_node"});case"remove_text":return le(le({},t),{},{type:"insert_text"});case"set_node":{var{properties:u,newProperties:s}=t;return le(le({},t),{},{properties:s,newProperties:u})}case"set_selection":{var{properties:l,newProperties:c}=t;return l==null?le(le({},t),{},{properties:c,newProperties:null}):c==null?le(le({},t),{},{properties:null,newProperties:l}):le(le({},t),{},{properties:c,newProperties:l})}case"split_node":return le(le({},t),{},{type:"merge_node",path:d.next(t.path)})}}},An=new WeakMap,Di=t=>{var e=An.get(t);if(e!==void 0)return e;if(!pe(t))return!1;var r=typeof t.addMark=="function"&&typeof t.apply=="function"&&typeof t.deleteFragment=="function"&&typeof t.insertBreak=="function"&&typeof t.insertSoftBreak=="function"&&typeof t.insertFragment=="function"&&typeof t.insertNode=="function"&&typeof t.insertText=="function"&&typeof t.isElementReadOnly=="function"&&typeof t.isInline=="function"&&typeof t.isSelectable=="function"&&typeof t.isVoid=="function"&&typeof t.normalizeNode=="function"&&typeof t.onChange=="function"&&typeof t.removeMark=="function"&&typeof t.getDirtyPaths=="function"&&(t.marks===null||pe(t.marks))&&(t.selection===null||B.isRange(t.selection))&&j.isNodeList(t.children)&&Ye.isOperationList(t.operations);return An.set(t,r),r},i={above(t,e){return t.above(e)},addMark(t,e,r){t.addMark(e,r)},after(t,e,r){return t.after(e,r)},before(t,e,r){return t.before(e,r)},deleteBackward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteBackward(r)},deleteForward(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;t.deleteForward(r)},deleteFragment(t,e){t.deleteFragment(e)},edges(t,e){return t.edges(e)},elementReadOnly(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.elementReadOnly(e)},end(t,e){return t.end(e)},first(t,e){return t.first(e)},fragment(t,e){return t.fragment(e)},hasBlocks(t,e){return t.hasBlocks(e)},hasInlines(t,e){return t.hasInlines(e)},hasPath(t,e){return t.hasPath(e)},hasTexts(t,e){return t.hasTexts(e)},insertBreak(t){t.insertBreak()},insertFragment(t,e,r){t.insertFragment(e,r)},insertNode(t,e){t.insertNode(e)},insertSoftBreak(t){t.insertSoftBreak()},insertText(t,e){t.insertText(e)},isBlock(t,e){return t.isBlock(e)},isEdge(t,e,r){return t.isEdge(e,r)},isEditor(t){return Di(t)},isElementReadOnly(t,e){return t.isElementReadOnly(e)},isEmpty(t,e){return t.isEmpty(e)},isEnd(t,e,r){return t.isEnd(e,r)},isInline(t,e){return t.isInline(e)},isNormalizing(t){return t.isNormalizing()},isSelectable(t,e){return t.isSelectable(e)},isStart(t,e,r){return t.isStart(e,r)},isVoid(t,e){return t.isVoid(e)},last(t,e){return t.last(e)},leaf(t,e,r){return t.leaf(e,r)},levels(t,e){return t.levels(e)},marks(t){return t.getMarks()},next(t,e){return t.next(e)},node(t,e,r){return t.node(e,r)},nodes(t,e){return t.nodes(e)},normalize(t,e){t.normalize(e)},parent(t,e,r){return t.parent(e,r)},path(t,e,r){return t.path(e,r)},pathRef(t,e,r){return t.pathRef(e,r)},pathRefs(t){return t.pathRefs()},point(t,e,r){return t.point(e,r)},pointRef(t,e,r){return t.pointRef(e,r)},pointRefs(t){return t.pointRefs()},positions(t,e){return t.positions(e)},previous(t,e){return t.previous(e)},range(t,e,r){return t.range(e,r)},rangeRef(t,e,r){return t.rangeRef(e,r)},rangeRefs(t){return t.rangeRefs()},removeMark(t,e){t.removeMark(e)},setNormalizing(t,e){t.setNormalizing(e)},start(t,e){return t.start(e)},string(t,e,r){return t.string(e,r)},unhangRange(t,e,r){return t.unhangRange(e,r)},void(t,e){return t.void(e)},withoutNormalizing(t,e){t.withoutNormalizing(e)}},gi={isSpan(t){return Array.isArray(t)&&t.length===2&&t.every(d.isPath)}};function Fn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ee={compare(t,e){var r=d.compare(t.path,e.path);return r===0?t.offset<e.offset?-1:t.offset>e.offset?1:0:r},isAfter(t,e){return ee.compare(t,e)===1},isBefore(t,e){return ee.compare(t,e)===-1},equals(t,e){return t.offset===e.offset&&d.equals(t.path,e.path)},isPoint(t){return pe(t)&&typeof t.offset=="number"&&d.isPath(t.path)},transform(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Lr(t,n=>{if(n===null)return null;var{affinity:a="forward"}=r,{path:u,offset:s}=n;switch(e.type){case"insert_node":case"move_node":{n.path=d.transform(u,e,r);break}case"insert_text":{d.equals(e.path,u)&&(e.offset<s||e.offset===s&&a==="forward")&&(n.offset+=e.text.length);break}case"merge_node":{d.equals(e.path,u)&&(n.offset+=e.position),n.path=d.transform(u,e,r);break}case"remove_text":{d.equals(e.path,u)&&e.offset<=s&&(n.offset-=Math.min(s-e.offset,e.text.length));break}case"remove_node":{if(d.equals(e.path,u)||d.isAncestor(e.path,u))return null;n.path=d.transform(u,e,r);break}case"split_node":{if(d.equals(e.path,u)){if(e.position===s&&a==null)return null;(e.position<s||e.position===s&&a==="forward")&&(n.offset-=e.position,n.path=d.transform(u,e,bn(bn({},r),{},{affinity:"forward"})))}else n.path=d.transform(u,e,r);break}}})}},wn=void 0,Ce={setScrubber(t){wn=t},stringify(t){return JSON.stringify(t,wn)}},hi=["text"],mi=["anchor","focus"];function yn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var H={equals(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:n=!1}=r;function a(u){var s=qe(u,hi);return s}return La(n?a(t):t,n?a(e):e)},isText(t){return pe(t)&&typeof t.text=="string"},isTextList(t){return Array.isArray(t)&&t.every(e=>H.isText(e))},isTextProps(t){return t.text!==void 0},matches(t,e){for(var r in e)if(r!=="text"&&(!t.hasOwnProperty(r)||t[r]!==e[r]))return!1;return!0},decorations(t,e){var r=[ze({},t)];for(var n of e){var a=qe(n,mi),[u,s]=B.edges(n),l=[],c=0,f=u.offset,v=s.offset;for(var g of r){var{length:h}=g.text,C=c;if(c+=h,f<=C&&c<=v){Object.assign(g,a),l.push(g);continue}if(f!==v&&(f===c||v===C)||f>c||v<C||v===C&&C!==0){l.push(g);continue}var D=g,o=void 0,p=void 0;if(v<c){var E=v-C;p=ze(ze({},D),{},{text:D.text.slice(E)}),D=ze(ze({},D),{},{text:D.text.slice(0,E)})}if(f>C){var A=f-C;o=ze(ze({},D),{},{text:D.text.slice(0,A)}),D=ze(ze({},D),{},{text:D.text.slice(A)})}Object.assign(D,a),o&&l.push(o),l.push(D),p&&l.push(p)}r=l}return r}},$r=t=>t.selection?t.selection:t.children.length>0?i.end(t,[]):[0],ht=(t,e)=>{var[r]=i.node(t,e);return n=>n===r},zr=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=!r,a=r?Fi(e):e,u=X.None,s=X.None,l=0,c=null,f=null;for(var v of a){var g=v.codePointAt(0);if(!g)break;var h=Mi(v,g);if([u,s]=n?[s,h]:[h,u],lt(u,X.ZWJ)&&lt(s,X.ExtPict)&&(n?c=On(e.substring(0,l)):c=On(e.substring(0,e.length-l)),!c)||lt(u,X.RI)&&lt(s,X.RI)&&(f!==null?f=!f:n?f=!0:f=zi(e.substring(0,e.length-l)),!f)||u!==X.None&&s!==X.None&&Ii(u,s))break;l+=v.length}return l||1},Ci=/\s/,pi=/[\u002B\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Bi=/['\u2018\u2019]/,Ei=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=0,a=!1;e.length>0;){var u=zr(e,r),[s,l]=Wr(e,u,r);if(Ai(s,l,r))a=!0,n+=u;else if(!a)n+=u;else break;e=l}return n},Wr=(t,e,r)=>{if(r){var n=t.length-e;return[t.slice(n,t.length),t.slice(0,n)]}return[t.slice(0,e),t.slice(e)]},Ai=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Ci.test(e))return!1;if(Bi.test(e)){var a=zr(r,n),[u,s]=Wr(r,a,n);if(t(u,s,n))return!0}return!pi.test(e)},Fi=function*(e){for(var r=e.length-1,n=0;n<e.length;n++){var a=e.charAt(r-n);if(wi(a.charCodeAt(0))){var u=e.charAt(r-n-1);if(bi(u.charCodeAt(0))){yield u+a,n++;continue}}yield a}},bi=t=>t>=55296&&t<=56319,wi=t=>t>=56320&&t<=57343,X;(function(t){t[t.None=0]="None",t[t.Extend=1]="Extend",t[t.ZWJ=2]="ZWJ",t[t.RI=4]="RI",t[t.Prepend=8]="Prepend",t[t.SpacingMark=16]="SpacingMark",t[t.L=32]="L",t[t.V=64]="V",t[t.T=128]="T",t[t.LV=256]="LV",t[t.LVT=512]="LVT",t[t.ExtPict=1024]="ExtPict",t[t.Any=2048]="Any"})(X||(X={}));var yi=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Oi=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,xi=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Si=/^[\u1100-\u115F\uA960-\uA97C]$/,Pi=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Ti=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,ji=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Ri=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Ni=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Mi=(t,e)=>{var r=X.Any;return t.search(yi)!==-1&&(r|=X.Extend),e===8205&&(r|=X.ZWJ),e>=127462&&e<=127487&&(r|=X.RI),t.search(Oi)!==-1&&(r|=X.Prepend),t.search(xi)!==-1&&(r|=X.SpacingMark),t.search(Si)!==-1&&(r|=X.L),t.search(Pi)!==-1&&(r|=X.V),t.search(Ti)!==-1&&(r|=X.T),t.search(ji)!==-1&&(r|=X.LV),t.search(Ri)!==-1&&(r|=X.LVT),t.search(Ni)!==-1&&(r|=X.ExtPict),r};function lt(t,e){return(t&e)!==0}var ki=[[X.L,X.L|X.V|X.LV|X.LVT],[X.LV|X.V,X.V|X.T],[X.LVT|X.T,X.T],[X.Any,X.Extend|X.ZWJ],[X.Any,X.SpacingMark],[X.Prepend,X.Any],[X.ZWJ,X.ExtPict],[X.RI,X.RI]];function Ii(t,e){return ki.findIndex(r=>lt(t,r[0])&&lt(e,r[1]))===-1}var Li=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,On=t=>t.search(Li)!==-1,$i=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,zi=t=>{var e=t.match($i);if(e===null)return!1;var r=e[0].length/2;return r%2===1},Wi={delete(t,e){t.delete(e)},insertFragment(t,e,r){t.insertFragment(e,r)},insertText(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i.withoutNormalizing(t,()=>{var{voids:n=!1}=r,{at:a=$r(t)}=r;if(d.isPath(a)&&(a=i.range(t,a)),B.isRange(a))if(B.isCollapsed(a))a=a.anchor;else{var u=B.end(a);if(!n&&i.void(t,{at:u}))return;var s=B.start(a),l=i.pointRef(t,s),c=i.pointRef(t,u);w.delete(t,{at:a,voids:n});var f=l.unref(),v=c.unref();a=f||v,w.setSelection(t,{anchor:a,focus:a})}if(!(!n&&i.void(t,{at:a})||i.elementReadOnly(t,{at:a}))){var{path:g,offset:h}=a;e.length>0&&t.apply({type:"insert_text",path:g,offset:h,text:e})}})}};function xn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var w=It(It(It(It({},si),ii),oi),Wi),qi=(t,e)=>{for(var r of i.pathRefs(t))ei.transform(r,e);for(var n of i.pointRefs(t))ti.transform(n,e);for(var a of i.rangeRefs(t))ri.transform(a,e);var u=Yt.get(t)||[],s=Xt.get(t)||new Set,l,c,f=D=>{if(D){var o=D.join(",");c.has(o)||(c.add(o),l.push(D))}};if(d.operationCanTransformPath(e)){l=[],c=new Set;for(var v of u){var g=d.transform(v,e);f(g)}}else l=u,c=s;var h=t.getDirtyPaths(e);for(var C of h)f(C);Yt.set(t,l),Xt.set(t,c),w.transform(t,e),t.operations.push(e),i.normalize(t,{operation:e}),e.type==="set_selection"&&(t.marks=null),Bt.get(t)||(Bt.set(t,!0),Promise.resolve().then(()=>{Bt.set(t,!1),t.onChange({operation:e}),t.operations=[]}))},Hi=(t,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return d.levels(r)}case"insert_node":{var{node:n,path:a}=e,u=d.levels(a),s=H.isText(n)?[]:Array.from(j.nodes(n),q=>{var[,G]=q;return a.concat(G)});return[...u,...s]}case"merge_node":{var{path:l}=e,c=d.ancestors(l),f=d.previous(l);return[...c,f]}case"move_node":{var{path:v,newPath:g}=e;if(d.equals(v,g))return[];var h=[],C=[];for(var D of d.ancestors(v)){var o=d.transform(D,e);h.push(o)}for(var p of d.ancestors(g)){var E=d.transform(p,e);C.push(E)}var A=C[C.length-1],x=g[g.length-1],O=A.concat(x);return[...h,...C,O]}case"remove_node":{var{path:k}=e,L=d.ancestors(k);return[...L]}case"split_node":{var{path:b}=e,V=d.levels(b),I=d.next(b);return[...V,I]}default:return[]}},Vi=t=>{var{selection:e}=t;return e?j.fragment(t,e):[]},Ki=(t,e)=>{var[r,n]=e;if(!H.isText(r)){if(W.isElement(r)&&r.children.length===0){var a={text:""};w.insertNodes(t,a,{at:n.concat(0),voids:!0});return}for(var u=i.isEditor(r)?!1:W.isElement(r)&&(t.isInline(r)||r.children.length===0||H.isText(r.children[0])||t.isInline(r.children[0])),s=0,l=0;l<r.children.length;l++,s++){var c=j.get(t,n);if(!H.isText(c)){var f=c.children[s],v=c.children[s-1],g=l===r.children.length-1,h=H.isText(f)||W.isElement(f)&&t.isInline(f);if(h!==u)w.removeNodes(t,{at:n.concat(s),voids:!0}),s--;else if(W.isElement(f)){if(t.isInline(f)){if(v==null||!H.isText(v)){var C={text:""};w.insertNodes(t,C,{at:n.concat(s),voids:!0}),s++}else if(g){var D={text:""};w.insertNodes(t,D,{at:n.concat(s+1),voids:!0}),s++}}}else v!=null&&H.isText(v)&&(H.equals(f,v,{loose:!0})?(w.mergeNodes(t,{at:n.concat(s),voids:!0}),s--):v.text===""?(w.removeNodes(t,{at:n.concat(s-1),voids:!0}),s--):f.text===""&&(w.removeNodes(t,{at:n.concat(s),voids:!0}),s--))}}}},Ui=(t,e)=>{var{iteration:r,initialDirtyPathsLength:n}=e,a=n*42;if(r>a)throw new Error("Could not completely normalize the editor after ".concat(a," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},Gi=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:n=!1,mode:a="lowest",at:u=e.selection,match:s}=r;if(u){var l=i.path(e,u),c=a==="lowest";for(var[f,v]of i.levels(e,{at:l,voids:n,match:s,reverse:c}))if(!H.isText(f)){if(B.isRange(u)){if(d.isAncestor(v,u.anchor.path)&&d.isAncestor(v,u.focus.path))return[f,v]}else if(!d.equals(l,v))return[f,v]}}};function Sn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Yi=(t,e,r)=>{var{selection:n}=t;if(n){var a=(g,h)=>{if(!H.isText(g))return!1;var[C,D]=i.parent(t,h);return!t.isVoid(C)||t.markableVoid(C)},u=B.isExpanded(n),s=!1;if(!u){var[l,c]=i.node(t,n);if(l&&a(l,c)){var[f]=i.parent(t,c);s=f&&t.markableVoid(f)}}if(u||s)w.setNodes(t,{[e]:r},{match:a,split:!0,voids:!0});else{var v=Pn(Pn({},i.marks(t)||{}),{},{[e]:r});t.marks=v,Bt.get(t)||t.onChange()}}};function Tn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Xi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.point(e,r,{edge:"end"}),u=i.end(e,[]),s={anchor:a,focus:u},{distance:l=1}=n,c=0,f;for(var v of i.positions(e,jn(jn({},n),{},{at:s}))){if(c>l)break;c!==0&&(f=v),c++}return f};function Rn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Nn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ji=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.start(e,[]),u=i.point(e,r,{edge:"start"}),s={anchor:a,focus:u},{distance:l=1}=n,c=0,f;for(var v of i.positions(e,Nn(Nn({},n),{},{at:s,reverse:!0}))){if(c>l)break;c!==0&&(f=v),c++}return f},Zi=(t,e)=>{var{selection:r}=t;r&&B.isCollapsed(r)&&w.delete(t,{unit:e,reverse:!0})},Qi=(t,e)=>{var{selection:r}=t;r&&B.isCollapsed(r)&&w.delete(t,{unit:e})},_i=function(e){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e;n&&B.isExpanded(n)&&w.delete(e,{reverse:r==="backward"})},eo=(t,e)=>[i.start(t,e),i.end(t,e)];function Mn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var to=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i.above(e,kn(kn({},r),{},{match:n=>W.isElement(n)&&i.isElementReadOnly(e,n)}))},ro=(t,e)=>i.point(t,e,{edge:"end"}),no=(t,e)=>{var r=i.path(t,e,{edge:"start"});return i.node(t,r)},ao=(t,e)=>{var r=i.range(t,e);return j.fragment(t,r)};function In(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?In(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var uo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i.above(e,Ln(Ln({},r),{},{match:n=>W.isElement(n)&&i.isVoid(e,n)}))},so=(t,e)=>e.children.some(r=>W.isElement(r)&&i.isBlock(t,r)),io=(t,e)=>e.children.some(r=>H.isText(r)||i.isInline(t,r)),oo=(t,e)=>j.has(t,e),lo=(t,e)=>e.children.every(r=>H.isText(r)),fo=t=>{w.splitNodes(t,{always:!0})},co=(t,e,r)=>{w.insertNodes(t,e,r)},vo=t=>{w.splitNodes(t,{always:!0})};function $n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Do(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$n(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$n(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var go=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a,marks:u}=e;if(a){if(u){var s=Do({text:r},u);w.insertNodes(e,s,{at:n.at,voids:n.voids})}else w.insertText(e,r,n);e.marks=null}},ho=(t,e)=>!t.isInline(e),mo=(t,e,r)=>i.isStart(t,e,r)||i.isEnd(t,e,r),Co=(t,e)=>{var{children:r}=e,[n]=r;return r.length===0||r.length===1&&H.isText(n)&&n.text===""&&!t.isVoid(e)},po=(t,e,r)=>{var n=i.end(t,r);return ee.equals(e,n)},Bo=t=>{var e=Ia.get(t);return e===void 0?!0:e},Eo=(t,e,r)=>{if(e.offset!==0)return!1;var n=i.start(t,r);return ee.equals(e,n)},Ao=(t,e)=>{var r=i.path(t,e,{edge:"end"});return i.node(t,r)},Fo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.path(e,r,n),u=j.leaf(e,a);return[u,a]};function bo(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,reverse:n=!1,voids:a=!1}=e,{match:u}=e;if(u==null&&(u=()=>!0),!!r){var s=[],l=i.path(t,r);for(var[c,f]of j.levels(t,l))if(u(c,f)&&(s.push([c,f]),!a&&W.isElement(c)&&i.isVoid(t,c)))break;n&&s.reverse(),yield*s}}()}var wo=["text"],yo=["text"],Oo=function(e){var{marks:r,selection:n}=e;if(!n)return null;var{anchor:a,focus:u}=n;if(r)return r;if(B.isExpanded(n)){var s=i.isEnd(e,a,a.path);if(s){var l=i.after(e,a);l&&(a=l)}var[c]=i.nodes(e,{match:H.isText,at:{anchor:a,focus:u}});if(c){var[f]=c,v=qe(f,wo);return v}else return{}}var{path:g}=a,[h]=i.leaf(e,g);if(a.offset===0){var C=i.previous(e,{at:g,match:H.isText}),D=i.above(e,{match:O=>W.isElement(O)&&i.isVoid(e,O)&&e.markableVoid(O)});if(!D){var o=i.above(e,{match:O=>W.isElement(O)&&i.isBlock(e,O)});if(C&&o){var[p,E]=C,[,A]=o;d.isAncestor(A,E)&&(h=p)}}}var x=qe(h,yo);return x},xo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=r,{match:u,at:s=e.selection}=r;if(s){var l=i.after(e,s,{voids:a});if(l){var[,c]=i.last(e,[]),f=[l.path,c];if(d.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(u==null)if(d.isPath(s)){var[v]=i.parent(e,s);u=h=>v.children.includes(h)}else u=()=>!0;var[g]=i.nodes(e,{at:f,match:u,mode:n,voids:a});return g}}},So=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.path(e,r,n),u=j.get(e,a);return[u,a]};function Po(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,mode:n="all",universal:a=!1,reverse:u=!1,voids:s=!1,ignoreNonSelectable:l=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!r){var f,v;if(gi.isSpan(r))f=r[0],v=r[1];else{var g=i.path(t,r,{edge:"start"}),h=i.path(t,r,{edge:"end"});f=u?h:g,v=u?g:h}var C=j.nodes(t,{reverse:u,from:f,to:v,pass:O=>{var[k]=O;return W.isElement(k)?!!(!s&&(i.isVoid(t,k)||i.isElementReadOnly(t,k))||l&&!i.isSelectable(t,k)):!1}}),D=[],o;for(var[p,E]of C)if(!(l&&W.isElement(p)&&!i.isSelectable(t,p))){var A=o&&d.compare(E,o[1])===0;if(!(n==="highest"&&A)){if(!c(p,E)){if(a&&!A&&H.isText(p))return;continue}if(n==="lowest"&&A){o=[p,E];continue}var x=n==="lowest"?o:[p,E];x&&(a?D.push(x):yield x),o=[p,E]}}n==="lowest"&&o&&(a?D.push(o):yield o),a&&(yield*D)}}()}var To=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:n=!1,operation:a}=r,u=v=>Yt.get(v)||[],s=v=>Xt.get(v)||new Set,l=v=>{var g=u(v).pop(),h=g.join(",");return s(v).delete(h),g};if(i.isNormalizing(e)){if(n){var c=Array.from(j.nodes(e),v=>{var[,g]=v;return g}),f=new Set(c.map(v=>v.join(",")));Yt.set(e,c),Xt.set(e,f)}u(e).length!==0&&i.withoutNormalizing(e,()=>{for(var v of u(e))if(j.has(e,v)){var g=i.node(e,v),[h,C]=g;W.isElement(h)&&h.children.length===0&&e.normalizeNode(g,{operation:a})}for(var D=u(e),o=D.length,p=0;D.length!==0;){if(!e.shouldNormalize({dirtyPaths:D,iteration:p,initialDirtyPathsLength:o,operation:a}))return;var E=l(e);if(j.has(e,E)){var A=i.node(e,E);e.normalizeNode(A,{operation:a})}p++,D=u(e)}})}},jo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.path(e,r,n),u=d.parent(a),s=i.node(e,u);return s},Ro=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:r,affinity:a,unref(){var{current:l}=u,c=i.pathRefs(e);return c.delete(u),u.current=null,l}},s=i.pathRefs(e);return s.add(u),u},No=t=>{var e=Dn.get(t);return e||(e=new Set,Dn.set(t,e)),e},Mo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:a,edge:u}=n;if(d.isPath(r)){if(u==="start"){var[,s]=j.first(e,r);r=s}else if(u==="end"){var[,l]=j.last(e,r);r=l}}return B.isRange(r)&&(u==="start"?r=B.start(r):u==="end"?r=B.end(r):r=d.common(r.anchor.path,r.focus.path)),ee.isPoint(r)&&(r=r.path),a!=null&&(r=r.slice(0,a)),r},ko=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:r,affinity:a,unref(){var{current:l}=u,c=i.pointRefs(e);return c.delete(u),u.current=null,l}},s=i.pointRefs(e);return s.add(u),u},Io=t=>{var e=gn.get(t);return e||(e=new Set,gn.set(t,e)),e},Lo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:a="start"}=n;if(d.isPath(r)){var u;if(a==="end"){var[,s]=j.last(e,r);u=s}else{var[,l]=j.first(e,r);u=l}var c=j.get(e,u);if(!H.isText(c))throw new Error("Cannot get the ".concat(a," point in the node at path [").concat(r,"] because it has no ").concat(a," text node."));return{path:u,offset:a==="end"?c.text.length:0}}if(B.isRange(r)){var[f,v]=B.edges(r);return a==="start"?f:v}return r};function $o(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=t.selection,unit:n="offset",reverse:a=!1,voids:u=!1,ignoreNonSelectable:s=!1}=e;if(!r)return;var l=i.range(t,r),[c,f]=B.edges(l),v=a?f:c,g=!1,h="",C=0,D=0,o=0;for(var[p,E]of i.nodes(t,{at:r,reverse:a,voids:u,ignoreNonSelectable:s})){if(W.isElement(p)){if(!u&&(t.isVoid(p)||t.isElementReadOnly(p))){yield i.start(t,E);continue}if(t.isInline(p))continue;if(i.hasInlines(t,p)){var A=d.isAncestor(E,f.path)?f:i.end(t,E),x=d.isAncestor(E,c.path)?c:i.start(t,E);h=i.string(t,{anchor:x,focus:A},{voids:u}),g=!0}}if(H.isText(p)){var O=d.equals(E,v.path);for(O?(D=a?v.offset:p.text.length-v.offset,o=v.offset):(D=p.text.length,o=a?D:0),(O||g||n==="offset")&&(yield{path:E,offset:o},g=!1);;){if(C===0){if(h==="")break;C=k(h,n,a),h=Wr(h,C,a)[1]}if(o=a?o-C:o+C,D=D-C,D<0){C=-D;break}C=0,yield{path:E,offset:o}}}}function k(L,b,V){return b==="character"?zr(L,V):b==="word"?Ei(L,V):b==="line"||b==="block"?L.length:1}}()}var zo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:n="lowest",voids:a=!1}=r,{match:u,at:s=e.selection}=r;if(s){var l=i.before(e,s,{voids:a});if(l){var[,c]=i.first(e,[]),f=[l.path,c];if(d.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(u==null)if(d.isPath(s)){var[v]=i.parent(e,s);u=h=>v.children.includes(h)}else u=()=>!0;var[g]=i.nodes(e,{reverse:!0,at:f,match:u,mode:n,voids:a});return g}}},Wo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:a="forward"}=n,u={current:r,affinity:a,unref(){var{current:l}=u,c=i.rangeRefs(e);return c.delete(u),u.current=null,l}},s=i.rangeRefs(e);return s.add(u),u},qo=t=>{var e=hn.get(t);return e||(e=new Set,hn.set(t,e)),e},Ho=(t,e,r)=>{if(B.isRange(e)&&!r)return e;var n=i.start(t,e),a=i.end(t,r||e);return{anchor:n,focus:a}};function zn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ko=(t,e)=>{var{selection:r}=t;if(r){var n=(v,g)=>{if(!H.isText(v))return!1;var[h,C]=i.parent(t,g);return!t.isVoid(h)||t.markableVoid(h)},a=B.isExpanded(r),u=!1;if(!a){var[s,l]=i.node(t,r);if(s&&n(s,l)){var[c]=i.parent(t,l);u=c&&t.markableVoid(c)}}if(a||u)w.unsetNodes(t,e,{match:n,split:!0,voids:!0});else{var f=Vo({},i.marks(t)||{});delete f[e],t.marks=f,Bt.get(t)||t.onChange()}}},Uo=(t,e)=>{Ia.set(t,e)},Go=(t,e)=>i.point(t,e,{edge:"start"}),Yo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,u=i.range(e,r),[s,l]=B.edges(u),c="";for(var[f,v]of i.nodes(e,{at:u,match:H.isText,voids:a})){var g=f.text;d.equals(v,l.path)&&(g=g.slice(0,l.offset)),d.equals(v,s.path)&&(g=g.slice(s.offset)),c+=g}return c},Xo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:a=!1}=n,[u,s]=B.edges(r);if(u.offset!==0||s.offset!==0||B.isCollapsed(r)||d.hasPrevious(s.path))return r;var l=i.above(e,{at:s,match:D=>W.isElement(D)&&i.isBlock(e,D),voids:a}),c=l?l[1]:[],f=i.start(e,u),v={anchor:f,focus:s},g=!0;for(var[h,C]of i.nodes(e,{at:v,match:H.isText,reverse:!0,voids:a})){if(g){g=!1;continue}if(h.text!==""||d.isBefore(C,c)){s={path:C,offset:h.text.length};break}}return{anchor:u,focus:s}},Jo=(t,e)=>{var r=i.isNormalizing(t);i.setNormalizing(t,!1);try{e()}finally{i.setNormalizing(t,r)}i.normalize(t)},Zo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.withoutNormalizing(e,()=>{var n,a,{reverse:u=!1,unit:s="character",distance:l=1,voids:c=!1}=r,{at:f=e.selection,hanging:v=!1}=r;if(f){var g=!1;if(B.isRange(f)&&B.isCollapsed(f)&&(g=!0,f=f.anchor),ee.isPoint(f)){var h=i.void(e,{at:f,mode:"highest"});if(!c&&h){var[,C]=h;f=C}else{var D={unit:s,distance:l},o=u?i.before(e,f,D)||i.start(e,[]):i.after(e,f,D)||i.end(e,[]);f={anchor:f,focus:o},v=!0}}if(d.isPath(f)){w.removeNodes(e,{at:f,voids:c});return}if(!B.isCollapsed(f)){if(!v){var[,p]=B.edges(f),E=i.end(e,[]);ee.equals(p,E)||(f=i.unhangRange(e,f,{voids:c}))}var[A,x]=B.edges(f),O=i.above(e,{match:te=>W.isElement(te)&&i.isBlock(e,te),at:A,voids:c}),k=i.above(e,{match:te=>W.isElement(te)&&i.isBlock(e,te),at:x,voids:c}),L=O&&k&&!d.equals(O[1],k[1]),b=d.equals(A.path,x.path),V=c?null:(n=i.void(e,{at:A,mode:"highest"}))!==null&&n!==void 0?n:i.elementReadOnly(e,{at:A,mode:"highest"}),I=c?null:(a=i.void(e,{at:x,mode:"highest"}))!==null&&a!==void 0?a:i.elementReadOnly(e,{at:x,mode:"highest"});if(V){var q=i.before(e,A);q&&O&&d.isAncestor(O[1],q.path)&&(A=q)}if(I){var G=i.after(e,x);G&&k&&d.isAncestor(k[1],G.path)&&(x=G)}var M=[],T;for(var P of i.nodes(e,{at:f,voids:c})){var[z,Q]=P;T&&d.compare(Q,T)===0||(!c&&W.isElement(z)&&(i.isVoid(e,z)||i.isElementReadOnly(e,z))||!d.isCommon(Q,A.path)&&!d.isCommon(Q,x.path))&&(M.push(P),T=Q)}var U=Array.from(M,te=>{var[,De]=te;return i.pathRef(e,De)}),ue=i.pointRef(e,A),Y=i.pointRef(e,x),re="";if(!b&&!V){var ve=ue.current,[se]=i.leaf(e,ve),{path:be}=ve,{offset:m}=A,N=se.text.slice(m);N.length>0&&(e.apply({type:"remove_text",path:be,offset:m,text:N}),re=N)}if(U.reverse().map(te=>te.unref()).filter(te=>te!==null).forEach(te=>w.removeNodes(e,{at:te,voids:c})),!I){var y=Y.current,[$]=i.leaf(e,y),{path:_}=y,K=b?A.offset:0,Z=$.text.slice(K,x.offset);Z.length>0&&(e.apply({type:"remove_text",path:_,offset:K,text:Z}),re=Z)}!b&&L&&Y.current&&ue.current&&w.mergeNodes(e,{at:Y.current,hanging:!0,voids:c}),g&&u&&s==="character"&&re.length>1&&re.match(/[\u0E00-\u0E7F]+/)&&w.insertText(e,re.slice(0,re.length-l));var ae=ue.unref(),ne=Y.unref(),ie=u?ae||ne:ne||ae;r.at==null&&ie&&w.select(e,ie)}}})},Qo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i.withoutNormalizing(e,()=>{var{hanging:a=!1,voids:u=!1}=n,{at:s=$r(e)}=n;if(r.length){if(B.isRange(s))if(a||(s=i.unhangRange(e,s,{voids:u})),B.isCollapsed(s))s=s.anchor;else{var[,l]=B.edges(s);if(!u&&i.void(e,{at:l}))return;var c=i.pointRef(e,l);w.delete(e,{at:s}),s=c.unref()}else d.isPath(s)&&(s=i.start(e,s));if(!(!u&&i.void(e,{at:s}))){var f=i.above(e,{at:s,match:m=>W.isElement(m)&&i.isInline(e,m),mode:"highest",voids:u});if(f){var[,v]=f;if(i.isEnd(e,s,v)){var g=i.after(e,v);s=g}else if(i.isStart(e,s,v)){var h=i.before(e,v);s=h}}var C=i.above(e,{match:m=>W.isElement(m)&&i.isBlock(e,m),at:s,voids:u}),[,D]=C,o=i.isStart(e,s,D),p=i.isEnd(e,s,D),E=o&&p,A=!o||o&&p,x=!p,[,O]=j.first({children:r},[]),[,k]=j.last({children:r},[]),L=[],b=m=>{var[N,y]=m,$=y.length===0;return $?!1:E?!0:!(A&&d.isAncestor(y,O)&&W.isElement(N)&&!e.isVoid(N)&&!e.isInline(N)||x&&d.isAncestor(y,k)&&W.isElement(N)&&!e.isVoid(N)&&!e.isInline(N))};for(var V of j.nodes({children:r},{pass:b}))b(V)&&L.push(V);var I=[],q=[],G=[],M=!0,T=!1;for(var[P]of L)W.isElement(P)&&!e.isInline(P)?(M=!1,T=!0,q.push(P)):M?I.push(P):G.push(P);var[z]=i.nodes(e,{at:s,match:m=>H.isText(m)||i.isInline(e,m),mode:"highest",voids:u}),[,Q]=z,U=i.isStart(e,s,Q),ue=i.isEnd(e,s,Q),Y=i.pathRef(e,p&&!G.length?d.next(D):D),re=i.pathRef(e,ue?d.next(Q):Q);w.splitNodes(e,{at:s,match:m=>T?W.isElement(m)&&i.isBlock(e,m):H.isText(m)||i.isInline(e,m),mode:T?"lowest":"highest",always:T&&(!o||I.length>0)&&(!p||G.length>0),voids:u});var ve=i.pathRef(e,!U||U&&ue?d.next(Q):Q);if(w.insertNodes(e,I,{at:ve.current,match:m=>H.isText(m)||i.isInline(e,m),mode:"highest",voids:u}),E&&!I.length&&q.length&&!G.length&&w.delete(e,{at:D,voids:u}),w.insertNodes(e,q,{at:Y.current,match:m=>W.isElement(m)&&i.isBlock(e,m),mode:"lowest",voids:u}),w.insertNodes(e,G,{at:re.current,match:m=>H.isText(m)||i.isInline(e,m),mode:"highest",voids:u}),!n.at){var se;if(G.length>0&&re.current?se=d.previous(re.current):q.length>0&&Y.current?se=d.previous(Y.current):ve.current&&(se=d.previous(ve.current)),se){var be=i.end(e,se);w.select(e,be)}}ve.unref(),Y.unref(),re.unref()}}})},_o=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:n="anchor"}=r,{selection:a}=e;if(a){if(n==="anchor")w.select(e,a.anchor);else if(n==="focus")w.select(e,a.focus);else if(n==="start"){var[u]=B.edges(a);w.select(e,u)}else if(n==="end"){var[,s]=B.edges(a);w.select(e,s)}}else return},el=t=>{var{selection:e}=t;e&&t.apply({type:"set_selection",properties:e,newProperties:null})},tl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:n}=e,{distance:a=1,unit:u="character",reverse:s=!1}=r,{edge:l=null}=r;if(n){l==="start"&&(l=B.isBackward(n)?"focus":"anchor"),l==="end"&&(l=B.isBackward(n)?"anchor":"focus");var{anchor:c,focus:f}=n,v={distance:a,unit:u,ignoreNonSelectable:!0},g={};if(l==null||l==="anchor"){var h=s?i.before(e,c,v):i.after(e,c,v);h&&(g.anchor=h)}if(l==null||l==="focus"){var C=s?i.before(e,f,v):i.after(e,f,v);C&&(g.focus=C)}w.setSelection(e,g)}},rl=(t,e)=>{var{selection:r}=t;if(e=i.range(t,e),r){w.setSelection(t,e);return}if(!B.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Ce.stringify(e)));t.apply({type:"set_selection",properties:r,newProperties:e})};function Wn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:a}=e,{edge:u="both"}=n;if(a){u==="start"&&(u=B.isBackward(a)?"focus":"anchor"),u==="end"&&(u=B.isBackward(a)?"anchor":"focus");var{anchor:s,focus:l}=a,c=u==="anchor"?s:l;w.setSelection(e,{[u==="anchor"?"anchor":"focus"]:qn(qn({},c),r)})}},al=(t,e)=>{var{selection:r}=t,n={},a={};if(r){for(var u in e)(u==="anchor"&&e.anchor!=null&&!ee.equals(e.anchor,r.anchor)||u==="focus"&&e.focus!=null&&!ee.equals(e.focus,r.focus)||u!=="anchor"&&u!=="focus"&&e[u]!==r[u])&&(n[u]=r[u],a[u]=e[u]);Object.keys(n).length>0&&t.apply({type:"set_selection",properties:n,newProperties:a})}},ul=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i.withoutNormalizing(e,()=>{var{hanging:a=!1,voids:u=!1,mode:s="lowest"}=n,{at:l,match:c,select:f}=n;if(j.isNode(r)&&(r=[r]),r.length!==0){var[v]=r;if(l||(l=$r(e),f!==!1&&(f=!0)),f==null&&(f=!1),B.isRange(l))if(a||(l=i.unhangRange(e,l,{voids:u})),B.isCollapsed(l))l=l.anchor;else{var[,g]=B.edges(l),h=i.pointRef(e,g);w.delete(e,{at:l}),l=h.unref()}if(ee.isPoint(l)){c==null&&(H.isText(v)?c=b=>H.isText(b):e.isInline(v)?c=b=>H.isText(b)||i.isInline(e,b):c=b=>W.isElement(b)&&i.isBlock(e,b));var[C]=i.nodes(e,{at:l.path,match:c,mode:s,voids:u});if(C){var[,D]=C,o=i.pathRef(e,D),p=i.isEnd(e,l,D);w.splitNodes(e,{at:l,match:c,mode:s,voids:u});var E=o.unref();l=p?d.next(E):E}else return}var A=d.parent(l),x=l[l.length-1];if(!(!u&&i.void(e,{at:A}))){for(var O of r){var k=A.concat(x);x++,e.apply({type:"insert_node",path:k,node:O}),l=d.next(l)}if(l=d.previous(l),f){var L=i.end(e,l);L&&w.select(e,L)}}}})},sl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:a="lowest",voids:u=!1}=r,{match:s}=r;if(s==null&&(s=d.isPath(n)?ht(e,n):O=>W.isElement(O)&&i.isBlock(e,O)),!!n){var l=i.nodes(e,{at:n,match:s,mode:a,voids:u}),c=Array.from(l,O=>{var[,k]=O;return i.pathRef(e,k)});for(var f of c){var v=f.unref();if(v.length<2)throw new Error("Cannot lift node at a path [".concat(v,"] because it has a depth of less than `2`."));var g=i.node(e,d.parent(v)),[h,C]=g,D=v[v.length-1],{length:o}=h.children;if(o===1){var p=d.next(C);w.moveNodes(e,{at:v,to:p,voids:u}),w.removeNodes(e,{at:C,voids:u})}else if(D===0)w.moveNodes(e,{at:v,to:C,voids:u});else if(D===o-1){var E=d.next(C);w.moveNodes(e,{at:v,to:E,voids:u})}else{var A=d.next(v),x=d.next(C);w.splitNodes(e,{at:A,voids:u}),w.moveNodes(e,{at:v,to:x,voids:u})}}}})},il=["text"],ol=["children"],$a=(t,e)=>{if(W.isElement(e)){var r=e;return i.isVoid(t,e)?!0:r.children.length===1?$a(t,r.children[0]):!1}else return!i.isEditor(e)},ll=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.withoutNormalizing(e,()=>{var{match:n,at:a=e.selection}=r,{hanging:u=!1,voids:s=!1,mode:l="lowest"}=r;if(a){if(n==null)if(d.isPath(a)){var[c]=i.parent(e,a);n=q=>c.children.includes(q)}else n=q=>W.isElement(q)&&i.isBlock(e,q);if(!u&&B.isRange(a)&&(a=i.unhangRange(e,a,{voids:s})),B.isRange(a))if(B.isCollapsed(a))a=a.anchor;else{var[,f]=B.edges(a),v=i.pointRef(e,f);w.delete(e,{at:a}),a=v.unref(),r.at==null&&w.select(e,a)}var[g]=i.nodes(e,{at:a,match:n,voids:s,mode:l}),h=i.previous(e,{at:a,match:n,voids:s,mode:l});if(!(!g||!h)){var[C,D]=g,[o,p]=h;if(!(D.length===0||p.length===0)){var E=d.next(p),A=d.common(D,p),x=d.isSibling(D,p),O=Array.from(i.levels(e,{at:D}),q=>{var[G]=q;return G}).slice(A.length).slice(0,-1),k=i.above(e,{at:D,mode:"highest",match:q=>O.includes(q)&&$a(e,q)}),L=k&&i.pathRef(e,k[1]),b,V;if(H.isText(C)&&H.isText(o)){var I=qe(C,il);V=o.text.length,b=I}else if(W.isElement(C)&&W.isElement(o)){var I=qe(C,ol);V=o.children.length,b=I}else throw new Error("Cannot merge the node at path [".concat(D,"] with the previous sibling because it is not the same kind: ").concat(Ce.stringify(C)," ").concat(Ce.stringify(o)));x||w.moveNodes(e,{at:D,to:E,voids:s}),L&&w.removeNodes(e,{at:L.current,voids:s}),W.isElement(o)&&i.isEmpty(e,o)||H.isText(o)&&o.text===""&&p[p.length-1]!==0?w.removeNodes(e,{at:p,voids:s}):e.apply({type:"merge_node",path:E,position:V,properties:b}),L&&L.unref()}}}})},fl=(t,e)=>{i.withoutNormalizing(t,()=>{var{to:r,at:n=t.selection,mode:a="lowest",voids:u=!1}=e,{match:s}=e;if(n){s==null&&(s=d.isPath(n)?ht(t,n):C=>W.isElement(C)&&i.isBlock(t,C));var l=i.pathRef(t,r),c=i.nodes(t,{at:n,match:s,mode:a,voids:u}),f=Array.from(c,C=>{var[,D]=C;return i.pathRef(t,D)});for(var v of f){var g=v.unref(),h=l.current;g.length!==0&&t.apply({type:"move_node",path:g,newPath:h}),l.current&&d.isSibling(h,g)&&d.isAfter(h,g)&&(l.current=d.next(l.current))}l.unref()}})},cl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:a=!1,mode:u="lowest"}=r,{at:s=e.selection,match:l}=r;if(s){l==null&&(l=d.isPath(s)?ht(e,s):C=>W.isElement(C)&&i.isBlock(e,C)),!n&&B.isRange(s)&&(s=i.unhangRange(e,s,{voids:a}));var c=i.nodes(e,{at:s,match:l,mode:u,voids:a}),f=Array.from(c,C=>{var[,D]=C;return i.pathRef(e,D)});for(var v of f){var g=v.unref();if(g){var[h]=i.node(e,g);e.apply({type:"remove_node",path:g,node:h})}}}})},vl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i.withoutNormalizing(e,()=>{var{match:a,at:u=e.selection,compare:s,merge:l}=n,{hanging:c=!1,mode:f="lowest",split:v=!1,voids:g=!1}=n;if(u){if(a==null&&(a=d.isPath(u)?ht(e,u):V=>W.isElement(V)&&i.isBlock(e,V)),!c&&B.isRange(u)&&(u=i.unhangRange(e,u,{voids:g})),v&&B.isRange(u)){if(B.isCollapsed(u)&&i.leaf(e,u.anchor)[0].text.length>0)return;var h=i.rangeRef(e,u,{affinity:"inward"}),[C,D]=B.edges(u),o=f==="lowest"?"lowest":"highest",p=i.isEnd(e,D,D.path);w.splitNodes(e,{at:D,match:a,mode:o,voids:g,always:!p});var E=i.isStart(e,C,C.path);w.splitNodes(e,{at:C,match:a,mode:o,voids:g,always:!E}),u=h.unref(),n.at==null&&w.select(e,u)}s||(s=(V,I)=>V!==I);for(var[A,x]of i.nodes(e,{at:u,match:a,mode:f,voids:g})){var O={},k={};if(x.length!==0){var L=!1;for(var b in r)b==="children"||b==="text"||s(r[b],A[b])&&(L=!0,A.hasOwnProperty(b)&&(O[b]=A[b]),l?r[b]!=null&&(k[b]=l(A[b],r[b])):r[b]!=null&&(k[b]=r[b]));L&&e.apply({type:"set_node",path:x,properties:O,newProperties:k})}}}})},dl=(t,e)=>{if(B.isCollapsed(e))return e.anchor;var[,r]=B.edges(e),n=i.pointRef(t,r);return w.delete(t,{at:e}),n.unref()},Dl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.withoutNormalizing(e,()=>{var{mode:n="lowest",voids:a=!1}=r,{match:u,at:s=e.selection,height:l=0,always:c=!1}=r;if(u==null&&(u=Y=>W.isElement(Y)&&i.isBlock(e,Y)),B.isRange(s)&&(s=dl(e,s)),d.isPath(s)){var f=s,v=i.point(e,f),[g]=i.parent(e,f);u=Y=>Y===g,l=v.path.length-f.length+1,s=v,c=!0}if(s){var h=i.pointRef(e,s,{affinity:"backward"}),C;try{var[D]=i.nodes(e,{at:s,match:u,mode:n,voids:a});if(!D)return;var o=i.void(e,{at:s,mode:"highest"}),p=0;if(!a&&o){var[E,A]=o;if(W.isElement(E)&&e.isInline(E)){var x=i.after(e,A);if(!x){var O={text:""},k=d.next(A);w.insertNodes(e,O,{at:k,voids:a}),x=i.point(e,k)}s=x,c=!0}var L=s.path.length-A.length;l=L+1,c=!0}C=i.pointRef(e,s);var b=s.path.length-l,[,V]=D,I=s.path.slice(0,b),q=l===0?s.offset:s.path[b]+p;for(var[G,M]of i.levels(e,{at:I,reverse:!0,voids:a})){var T=!1;if(M.length<V.length||M.length===0||!a&&W.isElement(G)&&i.isVoid(e,G))break;var P=h.current,z=i.isEnd(e,P,M);if(c||!h||!i.isEdge(e,P,M)){T=!0;var Q=j.extractProps(G);e.apply({type:"split_node",path:M,position:q,properties:Q})}q=M[M.length-1]+(T||z?1:0)}if(r.at==null){var U=C.current||i.end(e,[]);w.select(e,U)}}finally{var ue;h.unref(),(ue=C)===null||ue===void 0||ue.unref()}}})},gl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var a={};for(var u of r)a[u]=null;w.setNodes(e,a,n)},hl=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};i.withoutNormalizing(e,()=>{var{mode:n="lowest",split:a=!1,voids:u=!1}=r,{at:s=e.selection,match:l}=r;if(s){l==null&&(l=d.isPath(s)?ht(e,s):C=>W.isElement(C)&&i.isBlock(e,C)),d.isPath(s)&&(s=i.range(e,s));var c=B.isRange(s)?i.rangeRef(e,s):null,f=i.nodes(e,{at:s,match:l,mode:n,voids:u}),v=Array.from(f,C=>{var[,D]=C;return i.pathRef(e,D)}).reverse(),g=function(){var D=h.unref(),[o]=i.node(e,D),p=i.range(e,D);a&&c&&(p=B.intersection(c.current,p)),w.liftNodes(e,{at:p,match:E=>W.isAncestor(o)&&o.children.includes(E),voids:u})};for(var h of v)g();c&&c.unref()}})};function Hn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hn(Object(r),!0).forEach(function(n){Fe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ml=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};i.withoutNormalizing(e,()=>{var{mode:a="lowest",split:u=!1,voids:s=!1}=n,{match:l,at:c=e.selection}=n;if(c){if(l==null&&(d.isPath(c)?l=ht(e,c):e.isInline(r)?l=p=>W.isElement(p)&&i.isInline(e,p)||H.isText(p):l=p=>W.isElement(p)&&i.isBlock(e,p)),u&&B.isRange(c)){var[f,v]=B.edges(c),g=i.rangeRef(e,c,{affinity:"inward"});w.splitNodes(e,{at:v,match:l,voids:s}),w.splitNodes(e,{at:f,match:l,voids:s}),c=g.unref(),n.at==null&&w.select(e,c)}var h=Array.from(i.nodes(e,{at:c,match:e.isInline(r)?p=>W.isElement(p)&&i.isBlock(e,p):p=>i.isEditor(p),mode:"lowest",voids:s})),C=function(){var E=B.isRange(c)?B.intersection(c,i.range(e,o)):c;if(!E)return 0;var A=Array.from(i.nodes(e,{at:E,match:l,mode:a,voids:s}));if(A.length>0){var[x]=A,O=A[A.length-1],[,k]=x,[,L]=O;if(k.length===0&&L.length===0)return 0;var b=d.equals(k,L)?d.parent(k):d.common(k,L),V=i.range(e,k,L),I=i.node(e,b),[q]=I,G=b.length+1,M=d.next(L.slice(0,G)),T=Vn(Vn({},r),{},{children:[]});w.insertNodes(e,T,{at:M,voids:s}),w.moveNodes(e,{at:V,match:P=>W.isAncestor(q)&&q.children.includes(P),to:M.concat(0),voids:s})}},D;for(var[,o]of h)D=C()}})},Cl=()=>{var t={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return qi(t,...n)},addMark:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Yi(t,...n)},deleteBackward:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Zi(t,...n)},deleteForward:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Qi(t,...n)},deleteFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return _i(t,...n)},getFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Vi(t,...n)},insertBreak:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return fo(t,...n)},insertSoftBreak:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return vo(t,...n)},insertFragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Qo(t,...n)},insertNode:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return co(t,...n)},insertText:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return go(t,...n)},normalizeNode:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ki(t,...n)},removeMark:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ko(t,...n)},getDirtyPaths:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Hi(t,...n)},shouldNormalize:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ui(t,...n)},above:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Gi(t,...n)},after:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Xi(t,...n)},before:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ji(t,...n)},collapse:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return _o(t,...n)},delete:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Zo(t,...n)},deselect:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return el(t,...n)},edges:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return eo(t,...n)},elementReadOnly:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return to(t,...n)},end:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ro(t,...n)},first:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return no(t,...n)},fragment:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ao(t,...n)},getMarks:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Oo(t,...n)},hasBlocks:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return so(t,...n)},hasInlines:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return io(t,...n)},hasPath:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return oo(t,...n)},hasTexts:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return lo(t,...n)},insertNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ul(t,...n)},isBlock:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ho(t,...n)},isEdge:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return mo(t,...n)},isEmpty:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Co(t,...n)},isEnd:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return po(t,...n)},isNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Bo(t,...n)},isStart:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Eo(t,...n)},last:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ao(t,...n)},leaf:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Fo(t,...n)},levels:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return bo(t,...n)},liftNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return sl(t,...n)},mergeNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ll(t,...n)},move:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return tl(t,...n)},moveNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return fl(t,...n)},next:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return xo(t,...n)},node:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return So(t,...n)},nodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Po(t,...n)},normalize:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return To(t,...n)},parent:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return jo(t,...n)},path:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Mo(t,...n)},pathRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ro(t,...n)},pathRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return No(t,...n)},point:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Lo(t,...n)},pointRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ko(t,...n)},pointRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Io(t,...n)},positions:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return $o(t,...n)},previous:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return zo(t,...n)},range:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Ho(t,...n)},rangeRef:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Wo(t,...n)},rangeRefs:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return qo(t,...n)},removeNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return cl(t,...n)},select:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return rl(t,...n)},setNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return vl(t,...n)},setNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Uo(t,...n)},setPoint:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return nl(t,...n)},setSelection:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return al(t,...n)},splitNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Dl(t,...n)},start:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Go(t,...n)},string:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Yo(t,...n)},unhangRange:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Xo(t,...n)},unsetNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return gl(t,...n)},unwrapNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return hl(t,...n)},void:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return uo(t,...n)},withoutNormalizing:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Jo(t,...n)},wrapNodes:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ml(t,...n)}};return t},rt=[],pl=function(){return rt.some(function(t){return t.activeTargets.length>0})},Bl=function(){return rt.some(function(t){return t.skippedTargets.length>0})},Kn="ResizeObserver loop completed with undelivered notifications.",El=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:Kn}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=Kn),window.dispatchEvent(t)},Ot;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(Ot||(Ot={}));var nt=function(t){return Object.freeze(t)},Al=function(){function t(e,r){this.inlineSize=e,this.blockSize=r,nt(this)}return t}(),za=function(){function t(e,r,n,a){return this.x=e,this.y=r,this.width=n,this.height=a,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,nt(this)}return t.prototype.toJSON=function(){var e=this,r=e.x,n=e.y,a=e.top,u=e.right,s=e.bottom,l=e.left,c=e.width,f=e.height;return{x:r,y:n,top:a,right:u,bottom:s,left:l,width:c,height:f}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),qr=function(t){return t instanceof SVGElement&&"getBBox"in t},Wa=function(t){if(qr(t)){var e=t.getBBox(),r=e.width,n=e.height;return!r&&!n}var a=t,u=a.offsetWidth,s=a.offsetHeight;return!(u||s||t.getClientRects().length)},Un=function(t){var e;if(t instanceof Element)return!0;var r=(e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&t instanceof r.Element)},Fl=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},Et=typeof window<"u"?window:{},Lt=new WeakMap,Gn=/auto|scroll/,bl=/^tb|vertical/,wl=/msie|trident/i.test(Et.navigator&&Et.navigator.userAgent),Le=function(t){return parseFloat(t||"0")},vt=function(t,e,r){return t===void 0&&(t=0),e===void 0&&(e=0),r===void 0&&(r=!1),new Al((r?e:t)||0,(r?t:e)||0)},Yn=nt({devicePixelContentBoxSize:vt(),borderBoxSize:vt(),contentBoxSize:vt(),contentRect:new za(0,0,0,0)}),qa=function(t,e){if(e===void 0&&(e=!1),Lt.has(t)&&!e)return Lt.get(t);if(Wa(t))return Lt.set(t,Yn),Yn;var r=getComputedStyle(t),n=qr(t)&&t.ownerSVGElement&&t.getBBox(),a=!wl&&r.boxSizing==="border-box",u=bl.test(r.writingMode||""),s=!n&&Gn.test(r.overflowY||""),l=!n&&Gn.test(r.overflowX||""),c=n?0:Le(r.paddingTop),f=n?0:Le(r.paddingRight),v=n?0:Le(r.paddingBottom),g=n?0:Le(r.paddingLeft),h=n?0:Le(r.borderTopWidth),C=n?0:Le(r.borderRightWidth),D=n?0:Le(r.borderBottomWidth),o=n?0:Le(r.borderLeftWidth),p=g+f,E=c+v,A=o+C,x=h+D,O=l?t.offsetHeight-x-t.clientHeight:0,k=s?t.offsetWidth-A-t.clientWidth:0,L=a?p+A:0,b=a?E+x:0,V=n?n.width:Le(r.width)-L-k,I=n?n.height:Le(r.height)-b-O,q=V+p+k+A,G=I+E+O+x,M=nt({devicePixelContentBoxSize:vt(Math.round(V*devicePixelRatio),Math.round(I*devicePixelRatio),u),borderBoxSize:vt(q,G,u),contentBoxSize:vt(V,I,u),contentRect:new za(g,c,V,I)});return Lt.set(t,M),M},Ha=function(t,e,r){var n=qa(t,r),a=n.borderBoxSize,u=n.contentBoxSize,s=n.devicePixelContentBoxSize;switch(e){case Ot.DEVICE_PIXEL_CONTENT_BOX:return s;case Ot.BORDER_BOX:return a;default:return u}},yl=function(){function t(e){var r=qa(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=nt([r.borderBoxSize]),this.contentBoxSize=nt([r.contentBoxSize]),this.devicePixelContentBoxSize=nt([r.devicePixelContentBoxSize])}return t}(),Va=function(t){if(Wa(t))return 1/0;for(var e=0,r=t.parentNode;r;)e+=1,r=r.parentNode;return e},Ol=function(){var t=1/0,e=[];rt.forEach(function(s){if(s.activeTargets.length!==0){var l=[];s.activeTargets.forEach(function(f){var v=new yl(f.target),g=Va(f.target);l.push(v),f.lastReportedSize=Ha(f.target,f.observedBox),g<t&&(t=g)}),e.push(function(){s.callback.call(s.observer,l,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var r=0,n=e;r<n.length;r++){var a=n[r];a()}return t},Xn=function(t){rt.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(a){a.isActive()&&(Va(a.target)>t?r.activeTargets.push(a):r.skippedTargets.push(a))})})},xl=function(){var t=0;for(Xn(t);pl();)t=Ol(),Xn(t);return Bl()&&El(),t>0},vr,Ka=[],Sl=function(){return Ka.splice(0).forEach(function(t){return t()})},Pl=function(t){if(!vr){var e=0,r=document.createTextNode(""),n={characterData:!0};new MutationObserver(function(){return Sl()}).observe(r,n),vr=function(){r.textContent="".concat(e?e--:e++)}}Ka.push(t),vr()},Tl=function(t){Pl(function(){requestAnimationFrame(t)})},qt=0,jl=function(){return!!qt},Rl=250,Nl={attributes:!0,characterData:!0,childList:!0,subtree:!0},Jn=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Zn=function(t){return t===void 0&&(t=0),Date.now()+t},dr=!1,Ml=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var r=this;if(e===void 0&&(e=Rl),!dr){dr=!0;var n=Zn(e);Tl(function(){var a=!1;try{a=xl()}finally{if(dr=!1,e=n-Zn(),!jl())return;a?r.run(1e3):e>0?r.run(e):r.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,Nl)};document.body?r():Et.addEventListener("DOMContentLoaded",r)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Jn.forEach(function(r){return Et.addEventListener(r,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Jn.forEach(function(r){return Et.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},t}(),br=new Ml,Qn=function(t){!qt&&t>0&&br.start(),qt+=t,!qt&&br.stop()},kl=function(t){return!qr(t)&&!Fl(t)&&getComputedStyle(t).display==="inline"},Il=function(){function t(e,r){this.target=e,this.observedBox=r||Ot.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Ha(this.target,this.observedBox,!0);return kl(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),Ll=function(){function t(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return t}(),$t=new WeakMap,_n=function(t,e){for(var r=0;r<t.length;r+=1)if(t[r].target===e)return r;return-1},zt=function(){function t(){}return t.connect=function(e,r){var n=new Ll(e,r);$t.set(e,n)},t.observe=function(e,r,n){var a=$t.get(e),u=a.observationTargets.length===0;_n(a.observationTargets,r)<0&&(u&&rt.push(a),a.observationTargets.push(new Il(r,n&&n.box)),Qn(1),br.schedule())},t.unobserve=function(e,r){var n=$t.get(e),a=_n(n.observationTargets,r),u=n.observationTargets.length===1;a>=0&&(u&&rt.splice(rt.indexOf(n),1),n.observationTargets.splice(a,1),Qn(-1))},t.disconnect=function(e){var r=this,n=$t.get(e);n.observationTargets.slice().forEach(function(a){return r.unobserve(e,a.target)}),n.activeTargets.splice(0,n.activeTargets.length)},t}(),$l=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");zt.connect(this,e)}return t.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Un(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");zt.observe(this,e,r)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Un(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");zt.unobserve(this,e)},t.prototype.disconnect=function(){zt.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function zl(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,u;for(u=0;u<n.length;u++)a=n[u],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Dt(t,e){if(t==null)return{};var r=zl(t,e),n,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(a=0;a<u.length;a++)n=u[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xt(t){"@babel/helpers - typeof";return xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(t)}function Wl(t,e){if(xt(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(xt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ql(t){var e=Wl(t,"string");return xt(e)==="symbol"?e:String(e)}function Pe(t,e,r){return e=ql(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hr=S.createContext(null),Ze=()=>{var t=S.useContext(Hr);if(!t)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return t},Ua=parseInt(J.version.split(".")[0],10),Hl=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ea=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),Ae=typeof navigator<"u"&&/Android/.test(navigator.userAgent),ft=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),pt=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Vl=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),Ga=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Kl=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Ul=Ae&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Gl=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),Yl=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),Xl=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),Ht=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ve=(!Kl||!Ul)&&!Vl&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Vr=new WeakMap,Kr=new WeakMap,Ya=new WeakMap,Vt=new WeakMap,wr=new WeakMap,St=new WeakMap,at=new WeakMap,Jt=new WeakMap,rr=new WeakMap,yr=new WeakMap,Xe=new WeakMap,tt=new WeakMap,At=new WeakMap,Or=new WeakMap,Ur=new WeakMap,ke=new WeakMap,We=new WeakMap,ye=new WeakMap,Ue=new WeakMap,Ge=new WeakMap,Xa=new WeakMap,gt=Symbol("placeholder"),Ja=Symbol("mark-placeholder"),Jl=globalThis.Text,Gr=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView||null,Zl=t=>Je(t)&&t.nodeType===8,Se=t=>Je(t)&&t.nodeType===1,Je=t=>{var e=Gr(t);return!!e&&t instanceof e.Node},xr=t=>{var e=t&&t.anchorNode&&Gr(t.anchorNode);return!!e&&t instanceof e.Selection},Za=t=>Je(t)&&t.nodeType===3,Ql=t=>t.clipboardData&&t.clipboardData.getData("text/plain")!==""&&t.clipboardData.types.length===1,_l=t=>{var[e,r]=t;if(Se(e)&&e.childNodes.length){var n=r===e.childNodes.length,a=n?r-1:r;for([e,a]=Qa(e,a,n?"backward":"forward"),n=a<r;Se(e)&&e.childNodes.length;){var u=n?e.childNodes.length-1:0;e=tf(e,u,n?"backward":"forward")}r=n&&e.textContent!=null?e.textContent.length:0}return[e,r]},ef=t=>{for(var e=t&&t.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},Qa=(t,e,r)=>{for(var{childNodes:n}=t,a=n[e],u=e,s=!1,l=!1;(Zl(a)||Se(a)&&a.childNodes.length===0||Se(a)&&a.getAttribute("contenteditable")==="false")&&!(s&&l);){if(u>=n.length){s=!0,u=e-1,r="backward";continue}if(u<0){l=!0,u=e+1,r="forward";continue}a=n[u],e=u,u+=r==="forward"?1:-1}return[a,e]},tf=(t,e,r)=>{var[n]=Qa(t,e,r);return n},_a=t=>{var e="";if(Za(t)&&t.nodeValue)return t.nodeValue;if(Se(t)){for(var r of Array.from(t.childNodes))e+=_a(r);var n=getComputedStyle(t).getPropertyValue("display");(n==="block"||n==="list"||t.tagName==="BR")&&(e+=`
`)}return e},rf=/data-slate-fragment="(.+?)"/m,nf=t=>{var e=t.getData("text/html"),[,r]=e.match(rf)||[];return r},Yr=(t,e,r)=>{var{target:n}=e;if(Se(n)&&n.matches('[contentEditable="false"]'))return!1;var{document:a}=F.getWindow(t);if(a.contains(n))return F.hasDOMNode(t,n,{editable:!0});var u=r.find(s=>{var{addedNodes:l,removedNodes:c}=s;for(var f of l)if(f===n||f.contains(n))return!0;for(var v of c)if(v===n||v.contains(n))return!0});return!u||u===e?!1:Yr(t,u,r)},af=0;class uf{constructor(){Pe(this,"id",void 0),this.id="".concat(af++)}}var F={androidPendingDiffs:t=>ye.get(t),androidScheduleFlush:t=>{var e;(e=Ur.get(t))===null||e===void 0||e()},blur:t=>{var e=F.toDOMNode(t,t),r=F.findDocumentOrShadowRoot(t);Xe.set(t,!1),r.activeElement===e&&e.blur()},deselect:t=>{var{selection:e}=t,r=F.findDocumentOrShadowRoot(t),n=r.getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),e&&w.deselect(t)},findDocumentOrShadowRoot:t=>{var e=F.toDOMNode(t,t),r=e.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&r.getSelection!=null?r:e.ownerDocument},findEventRange:(t,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:r,clientY:n,target:a}=e;if(r==null||n==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var u=F.toSlateNode(t,e.target),s=F.findPath(t,u);if(W.isElement(u)&&i.isVoid(t,u)){var l=a.getBoundingClientRect(),c=t.isInline(u)?r-l.left<l.left+l.width-r:n-l.top<l.top+l.height-n,f=i.point(t,s,{edge:c?"start":"end"}),v=c?i.before(t,f):i.after(t,f);if(v){var g=i.range(t,v);return g}}var h,{document:C}=F.getWindow(t);if(C.caretRangeFromPoint)h=C.caretRangeFromPoint(r,n);else{var D=C.caretPositionFromPoint(r,n);D&&(h=C.createRange(),h.setStart(D.offsetNode,D.offset),h.setEnd(D.offsetNode,D.offset))}if(!h)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var o=F.toSlateRange(t,h,{exactMatch:!1,suppressThrow:!1});return o},findKey:(t,e)=>{var r=Jt.get(e);return r||(r=new uf,Jt.set(e,r)),r},findPath:(t,e)=>{for(var r=[],n=e;;){var a=Kr.get(n);if(a==null){if(i.isEditor(n))return r;break}var u=Vr.get(n);if(u==null)break;r.unshift(u),n=a}throw new Error("Unable to find the path for Slate node: ".concat(Ce.stringify(e)))},focus:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Xe.get(e)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{F.focus(e,{retries:r.retries-1})},10);return}var n=F.toDOMNode(e,e),a=F.findDocumentOrShadowRoot(e);if(a.activeElement!==n){if(e.selection&&a instanceof Document){var u=a.getSelection(),s=F.toDOMRange(e,e.selection);u==null||u.removeAllRanges(),u==null||u.addRange(s)}e.selection||(w.select(e,i.start(e,[])),e.onChange()),Xe.set(e,!0),n.focus({preventScroll:!0})}}},getWindow:t=>{var e=Ya.get(t);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:a=!1}=n,u=F.toDOMNode(e,e),s;try{s=Se(r)?r:r.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return s?s.closest("[data-slate-editor]")===u&&(!a||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===u||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(t,e)=>Je(e)&&F.hasDOMNode(t,e,{editable:!0}),hasRange:(t,e)=>{var{anchor:r,focus:n}=e;return i.hasPath(t,r.path)&&i.hasPath(t,n.path)},hasSelectableTarget:(t,e)=>F.hasEditableTarget(t,e)||F.isTargetInsideNonReadonlyVoid(t,e),hasTarget:(t,e)=>Je(e)&&F.hasDOMNode(t,e),insertData:(t,e)=>{t.insertData(e)},insertFragmentData:(t,e)=>t.insertFragmentData(e),insertTextData:(t,e)=>t.insertTextData(e),isComposing:t=>!!tt.get(t),isFocused:t=>!!Xe.get(t),isReadOnly:t=>!!yr.get(t),isTargetInsideNonReadonlyVoid:(t,e)=>{if(yr.get(t))return!1;var r=F.hasTarget(t,e)&&F.toSlateNode(t,e);return W.isElement(r)&&i.isVoid(t,r)},setFragmentData:(t,e,r)=>t.setFragmentData(e,r),toDOMNode:(t,e)=>{var r=rr.get(t),n=i.isEditor(e)?Vt.get(t):r==null?void 0:r.get(F.findKey(t,e));if(!n)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Ce.stringify(e)));return n},toDOMPoint:(t,e)=>{var[r]=i.node(t,e.path),n=F.toDOMNode(t,r),a;i.void(t,{at:e})&&(e={path:e.path,offset:0});for(var u="[data-slate-string], [data-slate-zero-width]",s=Array.from(n.querySelectorAll(u)),l=0,c=0;c<s.length;c++){var f=s[c],v=f.childNodes[0];if(!(v==null||v.textContent==null)){var{length:g}=v.textContent,h=f.getAttribute("data-slate-length"),C=h==null?g:parseInt(h,10),D=l+C,o=s[c+1];if(e.offset===D&&o!==null&&o!==void 0&&o.hasAttribute("data-slate-mark-placeholder")){var p,E=o.childNodes[0];a=[E instanceof Jl?E:o,(p=o.textContent)!==null&&p!==void 0&&p.startsWith("\uFEFF")?1:0];break}if(e.offset<=D){var A=Math.min(g,Math.max(0,e.offset-l));a=[v,A];break}l=D}}if(!a)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Ce.stringify(e)));return a},toDOMRange:(t,e)=>{var{anchor:r,focus:n}=e,a=B.isBackward(e),u=F.toDOMPoint(t,r),s=B.isCollapsed(e)?u:F.toDOMPoint(t,n),l=F.getWindow(t),c=l.document.createRange(),[f,v]=a?s:u,[g,h]=a?u:s,C=Se(f)?f:f.parentElement,D=!!C.getAttribute("data-slate-zero-width"),o=Se(g)?g:g.parentElement,p=!!o.getAttribute("data-slate-zero-width");return c.setStart(f,D?1:v),c.setEnd(g,p?1:h),c},toSlateNode:(t,e)=>{var r=Se(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?St.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},toSlatePoint:(t,e,r)=>{var{exactMatch:n,suppressThrow:a}=r,[u,s]=n?e:_l(e),l=u.parentNode,c=null,f=0;if(l){var v,g,h=F.toDOMNode(t,t),C=l.closest('[data-slate-void="true"]'),D=C&&h.contains(C)?C:null,o=l.closest("[data-slate-leaf]"),p=null;if(o){if(c=o.closest('[data-slate-node="text"]'),c){var E=F.getWindow(t),A=E.document.createRange();A.setStart(c,0),A.setEnd(u,s);var x=A.cloneContents(),O=[...Array.prototype.slice.call(x.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(x.querySelectorAll("[contenteditable=false]"))];O.forEach(P=>{if(Ae&&!n&&P.hasAttribute("data-slate-zero-width")&&P.textContent.length>0&&P.textContext!=="\uFEFF"){P.textContent.startsWith("\uFEFF")&&(P.textContent=P.textContent.slice(1));return}P.parentNode.removeChild(P)}),f=x.textContent.length,p=c}}else if(D){for(var k=D.querySelectorAll("[data-slate-leaf]"),L=0;L<k.length;L++){var b=k[L];if(F.hasDOMNode(t,b)){o=b;break}}o?(c=o.closest('[data-slate-node="text"]'),p=o,f=p.textContent.length,p.querySelectorAll("[data-slate-zero-width]").forEach(P=>{f-=P.textContent.length})):f=1}p&&f===p.textContent.length&&Ae&&p.getAttribute("data-slate-zero-width")==="z"&&(v=p.textContent)!==null&&v!==void 0&&v.startsWith("\uFEFF")&&(l.hasAttribute("data-slate-zero-width")||ft&&(g=p.textContent)!==null&&g!==void 0&&g.endsWith(`

`))&&f--}if(Ae&&!c&&!n){var V=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(V&&F.hasDOMNode(t,V,{editable:!0})){var I=F.toSlateNode(t,V),{path:q,offset:G}=i.start(t,F.findPath(t,I));return V.querySelector("[data-slate-leaf]")||(G=s),{path:q,offset:G}}}if(!c){if(a)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var M=F.toSlateNode(t,c),T=F.findPath(t,M);return{path:T,offset:f}},toSlateRange:(t,e,r)=>{var n,{exactMatch:a,suppressThrow:u}=r,s=xr(e)?e.anchorNode:e.startContainer,l,c,f,v,g;if(s)if(xr(e)){if(ft&&e.rangeCount>1){f=e.focusNode;var h=e.getRangeAt(0),C=e.getRangeAt(e.rangeCount-1);if(f instanceof HTMLTableRowElement&&h.startContainer instanceof HTMLTableRowElement&&C.startContainer instanceof HTMLTableRowElement){let L=function(b){return b.childElementCount>0?L(b.children[0]):b};var D=h.startContainer,o=C.startContainer,p=L(D.children[h.startOffset]),E=L(o.children[C.startOffset]);v=0,E.childNodes.length>0?l=E.childNodes[0]:l=E,p.childNodes.length>0?f=p.childNodes[0]:f=p,E instanceof HTMLElement?c=E.innerHTML.length:c=0}else h.startContainer===f?(l=C.endContainer,c=C.endOffset,v=h.startOffset):(l=h.startContainer,c=h.endOffset,v=C.startOffset)}else l=e.anchorNode,c=e.anchorOffset,f=e.focusNode,v=e.focusOffset;Ga&&ef(l)||ft?g=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:g=e.isCollapsed}else l=e.startContainer,c=e.startOffset,f=e.endContainer,v=e.endOffset,g=e.collapsed;if(l==null||f==null||c==null||v==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));if(ft&&(n=f.textContent)!==null&&n!==void 0&&n.endsWith(`

`)&&v===f.textContent.length&&v--,"getAttribute"in f&&f.getAttribute("contenteditable")==="false"&&f.getAttribute("data-slate-void")!=="true"){var A;f=l,v=((A=l.textContent)===null||A===void 0?void 0:A.length)||0}var x=F.toSlatePoint(t,[l,c],{exactMatch:a,suppressThrow:u});if(!x)return null;var O=g?x:F.toSlatePoint(t,[f,v],{exactMatch:a,suppressThrow:u});if(!O)return null;var k={anchor:x,focus:O};return B.isExpanded(k)&&B.isForward(k)&&Se(f)&&i.void(t,{at:k.focus,mode:"highest"})&&(k=i.unhangRange(t,k,{voids:!0})),k}};function sf(t,e){var{path:r,diff:n}=e;if(!i.hasPath(t,r))return!1;var a=j.get(t,r);if(!H.isText(a))return!1;if(n.start!==a.text.length||n.text.length===0)return a.text.slice(n.start,n.start+n.text.length)===n.text;var u=d.next(r);if(!i.hasPath(t,u))return!1;var s=j.get(t,u);return H.isText(s)&&s.text.startsWith(n.text)}function eu(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return r.reduce((a,u)=>a.slice(0,u.start)+u.text+a.slice(u.end),t)}function of(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r;n++)if(t.charAt(n)!==e.charAt(n))return n;return r}function lf(t,e,r){for(var n=Math.min(t.length,e.length,r),a=0;a<n;a++)if(t.charAt(t.length-a-1)!==e.charAt(e.length-a-1))return a;return n}function tu(t,e){var{start:r,end:n,text:a}=e,u=t.slice(r,n),s=of(u,a),l=Math.min(u.length-s,a.length-s),c=lf(u,a,l),f={start:r+s,end:n-c,text:a.slice(s,a.length-c)};return f.start===f.end&&f.text.length===0?null:f}function ff(t,e,r){var n=Math.min(e.start,r.start),a=Math.max(0,Math.min(e.start+e.text.length,r.end)-r.start),u=eu(t,e,r),s=Math.max(r.start+r.text.length,e.start+e.text.length+(e.start+e.text.length>r.start?r.text.length:0)-a),l=u.slice(n,s),c=Math.max(e.end,r.end-e.text.length+(e.end-e.start));return tu(t,{start:n,end:c,text:l})}function cf(t){var{path:e,diff:r}=t;return{anchor:{path:e,offset:r.start},focus:{path:e,offset:r.end}}}function Sr(t,e){var{path:r,offset:n}=e;if(!i.hasPath(t,r))return null;var a=j.get(t,r);if(!H.isText(a))return null;var u=i.above(t,{match:l=>W.isElement(l)&&i.isBlock(t,l),at:r});if(!u)return null;for(;n>a.text.length;){var s=i.next(t,{at:r,match:H.isText});if(!s||!d.isDescendant(s[1],u[1]))return null;n-=a.text.length,a=s[0],r=s[1]}return{path:r,offset:n}}function ta(t,e){var r=Sr(t,e.anchor);if(!r)return null;if(B.isCollapsed(e))return{anchor:r,focus:r};var n=Sr(t,e.focus);return n?{anchor:r,focus:n}:null}function Pr(t,e,r){var n=ye.get(t),a=n==null?void 0:n.find(v=>{var{path:g}=v;return d.equals(g,e.path)});if(!a||e.offset<=a.diff.start)return ee.transform(e,r,{affinity:"backward"});var{diff:u}=a;if(e.offset<=u.start+u.text.length){var s={path:e.path,offset:u.start},l=ee.transform(s,r,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-u.start}:null}var c={path:e.path,offset:e.offset-u.text.length+u.end-u.start},f=ee.transform(c,r,{affinity:"backward"});return f?r.type==="split_node"&&d.equals(r.path,e.path)&&c.offset<r.position&&u.start<r.position?f:{path:f.path,offset:f.offset+u.text.length-u.end+u.start}:null}function ra(t,e,r){var n=Pr(t,e.anchor,r);if(!n)return null;if(B.isCollapsed(e))return{anchor:n,focus:n};var a=Pr(t,e.focus,r);return a?{anchor:n,focus:a}:null}function vf(t,e){var{path:r,diff:n,id:a}=t;switch(e.type){case"insert_text":return!d.equals(e.path,r)||e.offset>=n.end?t:e.offset<=n.start?{diff:{start:e.text.length+n.start,end:e.text.length+n.end,text:n.text},id:a,path:r}:{diff:{start:n.start,end:n.end+e.text.length,text:n.text},id:a,path:r};case"remove_text":return!d.equals(e.path,r)||e.offset>=n.end?t:e.offset+e.text.length<=n.start?{diff:{start:n.start-e.text.length,end:n.end-e.text.length,text:n.text},id:a,path:r}:{diff:{start:n.start,end:n.end-e.text.length,text:n.text},id:a,path:r};case"split_node":return!d.equals(e.path,r)||e.position>=n.end?{diff:n,id:a,path:d.transform(r,e,{affinity:"backward"})}:e.position>n.start?{diff:{start:n.start,end:Math.min(e.position,n.end),text:n.text},id:a,path:r}:{diff:{start:n.start-e.position,end:n.end-e.position,text:n.text},id:a,path:d.transform(r,e,{affinity:"forward"})};case"merge_node":return d.equals(e.path,r)?{diff:{start:n.start+e.position,end:n.end+e.position,text:n.text},id:a,path:d.transform(r,e)}:{diff:n,id:a,path:d.transform(r,e)}}var u=d.transform(r,e);return u?{diff:n,path:u,id:a}:null}function na(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Wt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?na(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):na(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var df=25,Df=200,gf=function(){},hf=t=>(t==null?void 0:t.constructor.name)==="DataTransfer";function mf(t){var{editor:e,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:n}=t,a=!1,u=null,s=null,l=null,c=0,f=!1,v=()=>{var M=Ge.get(e);if(Ge.delete(e),M){var{selection:T}=e,P=ta(e,M);P&&(!T||!B.equals(P,T))&&w.select(e,P)}},g=()=>{var M=Ue.get(e);if(Ue.delete(e),!!M){if(M.at){var T=ee.isPoint(M.at)?Sr(e,M.at):ta(e,M.at);if(!T)return;var P=i.range(e,T);(!e.selection||!B.equals(e.selection,P))&&w.select(e,T)}M.run()}},h=()=>{if(s&&(clearTimeout(s),s=null),l&&(clearTimeout(l),l=null),!O()&&!x()){v();return}a||(a=!0,setTimeout(()=>a=!1)),x()&&(a="action");var M=e.selection&&i.rangeRef(e,e.selection,{affinity:"forward"});We.set(e,e.marks),gf("flush",Ue.get(e),ye.get(e));for(var T=O(),P;P=(z=ye.get(e))===null||z===void 0?void 0:z[0];){var z,Q,U=ke.get(e);U!==void 0&&(ke.delete(e),e.marks=U),U&&f===!1&&(f=null);var ue=cf(P);(!e.selection||!B.equals(e.selection,ue))&&w.select(e,ue),P.diff.text?i.insertText(e,P.diff.text):i.deleteFragment(e),ye.set(e,(Q=ye.get(e))===null||Q===void 0?void 0:Q.filter(ve=>{var{id:se}=ve;return se!==P.id})),sf(e,P)||(T=!1,Ue.delete(e),We.delete(e),a="action",Ge.delete(e),r.cancel(),n.cancel(),M==null||M.unref())}var Y=M==null?void 0:M.unref();if(Y&&!Ge.get(e)&&(!e.selection||!B.equals(Y,e.selection))&&w.select(e,Y),x()){g();return}T&&r(),r.flush(),n.flush(),v();var re=We.get(e);We.delete(e),re!==void 0&&(e.marks=re,e.onChange())},C=M=>{u&&clearTimeout(u),u=setTimeout(()=>{tt.set(e,!1),h()},df)},D=M=>{tt.set(e,!0),u&&(clearTimeout(u),u=null)},o=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,P=wr.get(e);if(P){if(O()||T){P.style.display="none";return}P.style.removeProperty("display")}},p=(M,T)=>{var P,z=(P=ye.get(e))!==null&&P!==void 0?P:[];ye.set(e,z);var Q=j.leaf(e,M),U=z.findIndex(re=>d.equals(re.path,M));if(U<0){var ue=tu(Q.text,T);ue&&z.push({path:M,diff:T,id:c++}),o();return}var Y=ff(Q.text,z[U].diff,T);if(!Y){z.splice(U,1),o();return}z[U]=Wt(Wt({},z[U]),{},{diff:Y})},E=function(T){var{at:P}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f=!1,Ge.delete(e),r.cancel(),n.cancel(),x()&&h(),Ue.set(e,{at:P,run:T}),l=setTimeout(h)},A=M=>{var T;s&&(clearTimeout(s),s=null);var{inputType:P}=M,z=null,Q=M.dataTransfer||M.data||void 0;f!==!1&&P!=="insertText"&&P!=="insertCompositionText"&&(f=!1);var[U]=M.getTargetRanges();U&&(z=F.toSlateRange(e,U,{exactMatch:!1,suppressThrow:!0}));var ue=F.getWindow(e),Y=ue.getSelection();if(!z&&Y&&(U=Y,z=F.toSlateRange(e,Y,{exactMatch:!1,suppressThrow:!0})),z=(T=z)!==null&&T!==void 0?T:e.selection,!!z){var re=!0;if(P.startsWith("delete")){if(B.isExpanded(z)){var[ve,se]=B.edges(z),be=j.leaf(e,ve.path);if(be.text.length===ve.offset&&se.offset===0){var m=i.next(e,{at:ve.path,match:H.isText});m&&d.equals(m[1],se.path)&&(z={anchor:se,focus:se})}}var N=P.endsWith("Backward")?"backward":"forward",[y,$]=B.edges(z),[_,K]=i.leaf(e,y.path),Z={text:"",start:y.offset,end:$.offset},ae=ye.get(e),ne=ae==null?void 0:ae.find(Ne=>d.equals(Ne.path,K)),ie=ne?[ne.diff,Z]:[Z],te=eu(_.text,...ie);if(te.length===0&&(re=!1),B.isExpanded(z)){if(re&&d.equals(z.anchor.path,z.focus.path)){var De={path:z.anchor.path,offset:y.offset},ge=i.range(e,De,De);return b(ge),p(z.anchor.path,{text:"",end:$.offset,start:y.offset})}return E(()=>i.deleteFragment(e,{direction:N}),{at:z})}}switch(P){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return E(()=>i.deleteFragment(e),{at:z});case"deleteContent":case"deleteContentForward":{var{anchor:de}=z;if(re&&B.isCollapsed(z)){var Te=j.leaf(e,de.path);if(de.offset<Te.text.length)return p(de.path,{text:"",start:de.offset,end:de.offset+1})}return E(()=>i.deleteForward(e),{at:z})}case"deleteContentBackward":{var Ie,{anchor:we}=z,je=xr(U)?U.isCollapsed:!!((Ie=U)!==null&&Ie!==void 0&&Ie.collapsed);return re&&je&&B.isCollapsed(z)&&we.offset>0?p(we.path,{text:"",start:we.offset-1,end:we.offset}):E(()=>i.deleteBackward(e),{at:z})}case"deleteEntireSoftLine":return E(()=>{i.deleteBackward(e,{unit:"line"}),i.deleteForward(e,{unit:"line"})},{at:z});case"deleteHardLineBackward":return E(()=>i.deleteBackward(e,{unit:"block"}),{at:z});case"deleteSoftLineBackward":return E(()=>i.deleteBackward(e,{unit:"line"}),{at:z});case"deleteHardLineForward":return E(()=>i.deleteForward(e,{unit:"block"}),{at:z});case"deleteSoftLineForward":return E(()=>i.deleteForward(e,{unit:"line"}),{at:z});case"deleteWordBackward":return E(()=>i.deleteBackward(e,{unit:"word"}),{at:z});case"deleteWordForward":return E(()=>i.deleteForward(e,{unit:"word"}),{at:z});case"insertLineBreak":return E(()=>i.insertSoftBreak(e),{at:z});case"insertParagraph":return E(()=>i.insertBreak(e),{at:z});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(hf(Q))return E(()=>F.insertData(e,Q),{at:z});var oe=Q??"";if(ke.get(e)&&(oe=oe.replace("\uFEFF","")),P==="insertText"&&/.*\n.*\n$/.test(oe)&&(oe=oe.slice(0,-1)),oe.includes(`
`))return E(()=>{var Ne=oe.split(`
`);Ne.forEach((Qe,jt)=>{Qe&&i.insertText(e,Qe),jt!==Ne.length-1&&i.insertSoftBreak(e)})},{at:z});if(d.equals(z.anchor.path,z.focus.path)){var[Be,he]=B.edges(z),me={start:Be.offset,end:he.offset,text:oe};if(oe&&f&&P==="insertCompositionText"){var Re=f.start+f.text.search(/\S|$/),Tt=me.start+me.text.search(/\S|$/);Tt===Re+1&&me.end===f.start+f.text.length?(me.start-=1,f=null,q()):f=!1}else P==="insertText"?f===null?f=me:f&&B.isCollapsed(z)&&f.end+f.text.length===Be.offset?f=Wt(Wt({},f),{},{text:f.text+oe}):f=!1:f=!1;if(re){p(Be.path,me);return}}return E(()=>i.insertText(e,oe),{at:z})}}}},x=()=>!!Ue.get(e),O=()=>{var M;return!!((M=ye.get(e))!==null&&M!==void 0&&M.length)},k=()=>x()||O(),L=()=>a,b=M=>{Ge.set(e,M),s&&(clearTimeout(s),s=null);var{selection:T}=e;if(M){var P=!T||!d.equals(T.anchor.path,M.anchor.path),z=!T||!d.equals(T.anchor.path.slice(0,-1),M.anchor.path.slice(0,-1));(P&&f||z)&&(f=!1),(P||O())&&(s=setTimeout(h,Df))}},V=()=>{(x()||!O())&&h()},I=M=>{O()||(o(!0),setTimeout(o))},q=()=>{x()||(l=setTimeout(h))},G=M=>{if(!(O()||x())&&M.some(P=>Yr(e,P,M))){var T;(T=Xa.get(e))===null||T===void 0||T()}};return{flush:h,scheduleFlush:q,hasPendingDiffs:O,hasPendingAction:x,hasPendingChanges:k,isFlushing:L,handleUserSelect:b,handleCompositionEnd:C,handleCompositionStart:D,handleDOMBeforeInput:A,handleKeyDown:I,handleDomMutations:G,handleInput:V}}function Cf(){var t=S.useRef(!1);return S.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current}var Pt=Ht?S.useLayoutEffect:S.useEffect;function pf(t,e,r){var[n]=S.useState(()=>new MutationObserver(e));Pt(()=>{n.takeRecords()}),S.useEffect(()=>{if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return n.observe(t.current,r),()=>n.disconnect()},[n,t,r])}var Bf=["node"];function aa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ef(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aa(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Af={subtree:!0,childList:!0,characterData:!0},Ff=Ae?t=>{var{node:e}=t,r=Dt(t,Bf);if(!Ae)return null;var n=Ze(),a=Cf(),[u]=S.useState(()=>mf(Ef({editor:n},r)));return pf(e,u.handleDomMutations,Af),Ur.set(n,u.scheduleFlush),a&&u.flush(),u}:()=>null,bf=["anchor","focus"],wf=["anchor","focus"],yf=(t,e)=>Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(r=>e.hasOwnProperty(r)&&t[r]===e[r]),ru=(t,e)=>{var r=Dt(t,bf),n=Dt(e,wf);return t[gt]===e[gt]&&yf(r,n)},Of=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],a=e[r];if(!B.equals(n,a)||!ru(n,a))return!1}return!0},xf=(t,e)=>{if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var n=t[r],a=e[r];if(n.anchor.offset!==a.anchor.offset||n.focus.offset!==a.focus.offset||!ru(n,a))return!1}return!0};function ua(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ua(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Pf=t=>{var{isLast:e,leaf:r,parent:n,text:a}=t,u=Ze(),s=F.findPath(u,a),l=d.parent(s),c=!!r[Ja];return u.isVoid(n)?J.createElement(Dr,{length:j.string(n).length}):r.text===""&&n.children[n.children.length-1]===a&&!u.isInline(n)&&i.string(u,l)===""?J.createElement(Dr,{isLineBreak:!0,isMarkPlaceholder:c}):r.text===""?J.createElement(Dr,{isMarkPlaceholder:c}):e&&r.text.slice(-1)===`
`?J.createElement(sa,{isTrailing:!0,text:r.text}):J.createElement(sa,{text:r.text})},sa=t=>{var{text:e,isTrailing:r=!1}=t,n=S.useRef(null),a=()=>"".concat(e??"").concat(r?`
`:""),[u]=S.useState(a);return Pt(()=>{var s=a();n.current&&n.current.textContent!==s&&(n.current.textContent=s)}),J.createElement(Tf,{ref:n},u)},Tf=S.memo(S.forwardRef((t,e)=>J.createElement("span",{"data-slate-string":!0,ref:e},t.children))),Dr=t=>{var{length:e=0,isLineBreak:r=!1,isMarkPlaceholder:n=!1}=t,a={"data-slate-zero-width":r?"n":"z","data-slate-length":e};return n&&(a["data-slate-mark-placeholder"]=!0),J.createElement("span",Sf({},a),!Ae||!r?"\uFEFF":null,r?J.createElement("br",null):null)};function ia(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function nu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ia(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ia(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var jf=Ae?300:0;function Rf(t,e){t.current&&(t.current.disconnect(),e&&(t.current=null))}function oa(t){t.current&&(clearTimeout(t.current),t.current=null)}var Nf=t=>{var{leaf:e,isLast:r,text:n,parent:a,renderPlaceholder:u,renderLeaf:s=A=>J.createElement(kf,nu({},A))}=t,l=Ze(),c=S.useRef(null),f=S.useRef(null),[v,g]=S.useState(!1),h=S.useRef(null),C=S.useCallback(A=>{if(Rf(c,A==null),A==null){var x;wr.delete(l),(x=e.onPlaceholderResize)===null||x===void 0||x.call(e,null)}else{if(wr.set(l,A),!c.current){var O=window.ResizeObserver||$l;c.current=new O(()=>{var k;(k=e.onPlaceholderResize)===null||k===void 0||k.call(e,A)})}c.current.observe(A),f.current=A}},[f,e,l]),D=J.createElement(Pf,{isLast:r,leaf:e,parent:a,text:n}),o=!!e[gt];if(S.useEffect(()=>(o?h.current||(h.current=setTimeout(()=>{g(!0),h.current=null},jf)):(oa(h),g(!1)),()=>oa(h)),[o,g]),o&&v){var p={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:pt?"inherit":void 0},contentEditable:!1,ref:C}};D=J.createElement(J.Fragment,null,u(p),D)}var E={"data-slate-leaf":!0};return s({attributes:E,children:D,leaf:e,text:n})},Mf=J.memo(Nf,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&H.equals(e.leaf,t.leaf)&&e.leaf[gt]===t.leaf[gt]),kf=t=>{var{attributes:e,children:r}=t;return J.createElement("span",nu({},e),r)},If=t=>{for(var{decorations:e,isLast:r,parent:n,renderPlaceholder:a,renderLeaf:u,text:s}=t,l=Ze(),c=S.useRef(null),f=H.decorations(s,e),v=F.findKey(l,s),g=[],h=0;h<f.length;h++){var C=f[h];g.push(J.createElement(Mf,{isLast:r&&h===f.length-1,key:"".concat(v.id,"-").concat(h),renderPlaceholder:a,leaf:C,text:s,parent:n,renderLeaf:u}))}var D=S.useCallback(o=>{var p=rr.get(l);o?(p==null||p.set(v,o),at.set(s,o),St.set(o,s)):(p==null||p.delete(v),at.delete(s),c.current&&St.delete(c.current)),c.current=o},[c,l,v,s]);return J.createElement("span",{"data-slate-node":"text",ref:D},g)},au=J.memo(If,(t,e)=>e.parent===t.parent&&e.isLast===t.isLast&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&e.text===t.text&&xf(e.decorations,t.decorations));function la(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?la(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Lf=t=>{var{decorations:e,element:r,renderElement:n=A=>J.createElement(zf,Tr({},A)),renderPlaceholder:a,renderLeaf:u,selection:s}=t,l=Ze(),c=Hf(),f=l.isInline(r),v=F.findKey(l,r),g=S.useCallback(A=>{var x=rr.get(l);A?(x==null||x.set(v,A),at.set(r,A),St.set(A,r)):(x==null||x.delete(v),at.delete(r))},[l,v,r]),h=su({decorations:e,node:r,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}),C={"data-slate-node":"element",ref:g};if(f&&(C["data-slate-inline"]=!0),!f&&i.hasInlines(l,r)){var D=j.string(r),o=ya(D);o==="rtl"&&(C.dir=o)}if(i.isVoid(l,r)){C["data-slate-void"]=!0,!c&&f&&(C.contentEditable=!1);var p=f?"span":"div",[[E]]=j.texts(r);h=J.createElement(p,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},J.createElement(au,{renderPlaceholder:a,decorations:[],isLast:!1,parent:r,text:E})),Vr.set(E,0),Kr.set(E,r)}return n({attributes:C,children:h,element:r})},$f=J.memo(Lf,(t,e)=>t.element===e.element&&t.renderElement===e.renderElement&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&Of(t.decorations,e.decorations)&&(t.selection===e.selection||!!t.selection&&!!e.selection&&B.equals(t.selection,e.selection))),zf=t=>{var{attributes:e,children:r,element:n}=t,a=Ze(),u=a.isInline(n)?"span":"div";return J.createElement(u,Tr(Tr({},e),{},{style:{position:"relative"}}),r)},uu=S.createContext(()=>[]),Wf=()=>S.useContext(uu),qf=S.createContext(!1),su=t=>{for(var{decorations:e,node:r,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:s}=t,l=Wf(),c=Ze(),f=F.findPath(c,r),v=[],g=W.isElement(r)&&!c.isInline(r)&&i.hasInlines(c,r),h=0;h<r.children.length;h++){var C=f.concat(h),D=r.children[h],o=F.findKey(c,D),p=i.range(c,C),E=s&&B.intersection(p,s),A=l([D,C]);for(var x of e){var O=B.intersection(x,p);O&&A.push(O)}W.isElement(D)?v.push(J.createElement(qf.Provider,{key:"provider-".concat(o.id),value:!!E},J.createElement($f,{decorations:A,element:D,key:o.id,renderElement:n,renderPlaceholder:a,renderLeaf:u,selection:E}))):v.push(J.createElement(au,{decorations:A,key:o.id,isLast:g&&h===r.children.length-1,parent:r,renderPlaceholder:a,renderLeaf:u,text:D})),Vr.set(D,h),Kr.set(D,r)}return v},iu=S.createContext(!1),Hf=()=>S.useContext(iu),ou=S.createContext(null),Xr=()=>{var t=S.useContext(ou);if(!t)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=t;return e};function Vf(){var t=Ze(),e=S.useRef(!1),r=S.useRef(0),n=S.useCallback(()=>{if(!e.current){e.current=!0;var a=F.getWindow(t);a.cancelAnimationFrame(r.current),r.current=a.requestAnimationFrame(()=>{e.current=!1})}},[t]);return S.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:e,onUserInput:n}}var Kf=3,Uf={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Gf={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Yf={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},fe=t=>{var e=Uf[t],r=Gf[t],n=Yf[t],a=e&&ir(e),u=r&&ir(r),s=n&&ir(n);return l=>!!(a&&a(l)||ea&&u&&u(l)||!ea&&s&&s(l))},ce={isBold:fe("bold"),isCompose:fe("compose"),isMoveBackward:fe("moveBackward"),isMoveForward:fe("moveForward"),isDeleteBackward:fe("deleteBackward"),isDeleteForward:fe("deleteForward"),isDeleteLineBackward:fe("deleteLineBackward"),isDeleteLineForward:fe("deleteLineForward"),isDeleteWordBackward:fe("deleteWordBackward"),isDeleteWordForward:fe("deleteWordForward"),isExtendBackward:fe("extendBackward"),isExtendForward:fe("extendForward"),isExtendLineBackward:fe("extendLineBackward"),isExtendLineForward:fe("extendLineForward"),isItalic:fe("italic"),isMoveLineBackward:fe("moveLineBackward"),isMoveLineForward:fe("moveLineForward"),isMoveWordBackward:fe("moveWordBackward"),isMoveWordForward:fe("moveWordForward"),isRedo:fe("redo"),isSoftBreak:fe("insertSoftBreak"),isSplitBlock:fe("splitBlock"),isTransposeCharacter:fe("transposeCharacter"),isUndo:fe("undo")},Xf=(t,e)=>{var r=[],n=()=>{r=[]},a=s=>{if(e.current){var l=s.filter(c=>Yr(t,c,s));r.push(...l)}};function u(){r.length>0&&(r.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(l=>{s.target.insertBefore(l,s.nextSibling)}),s.addedNodes.forEach(l=>{s.target.removeChild(l)}))}),n())}return{registerMutations:a,restoreDOM:u,clear:n}},Jf={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class lu extends S.Component{constructor(){super(...arguments),Pe(this,"context",null),Pe(this,"manager",null),Pe(this,"mutationObserver",null)}observe(){var e,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(r.current,Jf)}componentDidMount(){var{receivedUserInput:e}=this.props,r=this.context;this.manager=Xf(r,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,r,n,a=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(a!=null&&a.length){var u;(u=this.manager)===null||u===void 0||u.registerMutations(a)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(n=this.manager)===null||n===void 0||n.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}Pe(lu,"contextType",Hr);var Zf=Ae?lu:t=>{var{children:e}=t;return J.createElement(J.Fragment,null,e)},Qf=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],_f=["text"];function fa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fa(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fa(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ec=t=>J.createElement(J.Fragment,null,su(t)),tc=t=>{var e=S.useCallback(m=>J.createElement(rc,$e({},m)),[]),{autoFocus:r,decorate:n=nc,onDOMBeforeInput:a,placeholder:u,readOnly:s=!1,renderElement:l,renderLeaf:c,renderPlaceholder:f=e,scrollSelectionIntoView:v=ac,style:g={},as:h="div",disableDefaultStyles:C=!1}=t,D=Dt(t,Qf),o=Xr(),[p,E]=S.useState(!1),A=S.useRef(null),x=S.useRef([]),[O,k]=S.useState(),{onUserInput:L,receivedUserInput:b}=Vf(),[,V]=S.useReducer(m=>m+1,0);Xa.set(o,V),yr.set(o,s);var I=S.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);S.useEffect(()=>{A.current&&r&&A.current.focus()},[r]);var q=S.useRef(),G=S.useMemo(()=>zs(()=>{var m=q.current;if((Ae||!F.isComposing(o))&&(!I.isUpdatingSelection||m!=null&&m.isFlushing())&&!I.isDraggingInternally){var N=F.findDocumentOrShadowRoot(o),{activeElement:y}=N,$=F.toDOMNode(o,o),_=N.getSelection();if(y===$?(I.latestElement=y,Xe.set(o,!0)):Xe.delete(o),!_)return w.deselect(o);var{anchorNode:K,focusNode:Z}=_,ae=F.hasEditableTarget(o,K)||F.isTargetInsideNonReadonlyVoid(o,K),ne=F.hasEditableTarget(o,Z)||F.isTargetInsideNonReadonlyVoid(o,Z);if(ae&&ne){var ie=F.toSlateRange(o,_,{exactMatch:!1,suppressThrow:!0});ie&&(!F.isComposing(o)&&!(m!=null&&m.hasPendingChanges())&&!(m!=null&&m.isFlushing())?w.select(o,ie):m==null||m.handleUserSelect(ie))}s&&(!ae||!ne)&&w.deselect(o)}},100),[o,s,I]),M=S.useMemo(()=>Ns(G,0),[G]);q.current=Ff({node:A,onDOMSelectionChange:G,scheduleOnDOMSelectionChange:M}),Pt(()=>{var m,N,y;A.current&&(y=Gr(A.current))?(Ya.set(o,y),Vt.set(o,A.current),at.set(o,A.current),St.set(A.current,o)):at.delete(o);var{selection:$}=o,_=F.findDocumentOrShadowRoot(o),K=_.getSelection();if(!(!K||!F.isFocused(o)||(m=q.current)!==null&&m!==void 0&&m.hasPendingAction())){var Z=te=>{var De=K.type!=="None";if(!(!$&&!De)){var ge=K.focusNode,de;if(ft&&K.rangeCount>1){var Te=K.getRangeAt(0),Ie=K.getRangeAt(K.rangeCount-1);Te.startContainer===ge?de=Ie.endContainer:de=Te.startContainer}else de=K.anchorNode;var we=Vt.get(o),je=!1;if(we.contains(de)&&we.contains(ge)&&(je=!0),De&&je&&$&&!te){var oe=F.toSlateRange(o,K,{exactMatch:!0,suppressThrow:!0});if(oe&&B.equals(oe,$)){var Be;if(!I.hasMarkPlaceholder||(Be=de)!==null&&Be!==void 0&&(Be=Be.parentElement)!==null&&Be!==void 0&&Be.hasAttribute("data-slate-mark-placeholder"))return}}if($&&!F.hasRange(o,$)){o.selection=F.toSlateRange(o,K,{exactMatch:!1,suppressThrow:!0});return}I.isUpdatingSelection=!0;var he=$&&F.toDOMRange(o,$);return he?(F.isComposing(o)&&!Ae?K.collapseToEnd():B.isBackward($)?K.setBaseAndExtent(he.endContainer,he.endOffset,he.startContainer,he.startOffset):K.setBaseAndExtent(he.startContainer,he.startOffset,he.endContainer,he.endOffset),v(o,he)):K.removeAllRanges(),he}};K.rangeCount<=1&&Z();var ae=((N=q.current)===null||N===void 0?void 0:N.isFlushing())==="action";if(!Ae||!ae){setTimeout(()=>{I.isUpdatingSelection=!1});return}var ne=null,ie=requestAnimationFrame(()=>{if(ae){var te=De=>{try{var ge=F.toDOMNode(o,o);ge.focus(),Z(De)}catch{}};te(),ne=setTimeout(()=>{te(!0),I.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(ie),ne&&clearTimeout(ne)}}});var T=S.useCallback(m=>{if(L(),!s&&F.hasEditableTarget(o,m.target)&&!uc(m,a)){var N;if(q.current)return q.current.handleDOMBeforeInput(m);M.flush(),G.flush();var{selection:y}=o,{inputType:$}=m,_=m.dataTransfer||m.data||void 0,K=$==="insertCompositionText"||$==="deleteCompositionText";if(K&&F.isComposing(o))return;var Z=!1;if($==="insertText"&&y&&B.isCollapsed(y)&&m.data&&m.data.length===1&&/[a-z ]/i.test(m.data)&&y.anchor.offset!==0){var ae,ne;Z=!0,o.marks&&(Z=!1);var{anchor:ie}=y,[te,De]=F.toDOMPoint(o,ie),ge=(ae=te.parentElement)===null||ae===void 0?void 0:ae.closest("a"),de=F.getWindow(o);if(Z&&ge&&F.hasDOMNode(o,ge)){var Te,Ie=de==null?void 0:de.document.createTreeWalker(ge,NodeFilter.SHOW_TEXT).lastChild();Ie===te&&((Te=Ie.textContent)===null||Te===void 0?void 0:Te.length)===De&&(Z=!1)}if(Z&&te.parentElement&&(de==null||(ne=de.getComputedStyle(te.parentElement))===null||ne===void 0?void 0:ne.whiteSpace)==="pre"){var we=i.above(o,{at:ie.path,match:Re=>W.isElement(Re)&&i.isBlock(o,Re)});we&&j.string(we[0]).includes("	")&&(Z=!1)}}if(!$.startsWith("delete")||$.startsWith("deleteBy")){var[je]=m.getTargetRanges();if(je){var oe=F.toSlateRange(o,je,{exactMatch:!1,suppressThrow:!1});if(!y||!B.equals(y,oe)){Z=!1;var Be=!K&&o.selection&&i.rangeRef(o,o.selection);w.select(o,oe),Be&&At.set(o,Be)}}}if(K)return;if(Z||m.preventDefault(),y&&B.isExpanded(y)&&$.startsWith("delete")){var he=$.endsWith("Backward")?"backward":"forward";i.deleteFragment(o,{direction:he});return}switch($){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{i.deleteFragment(o);break}case"deleteContent":case"deleteContentForward":{i.deleteForward(o);break}case"deleteContentBackward":{i.deleteBackward(o);break}case"deleteEntireSoftLine":{i.deleteBackward(o,{unit:"line"}),i.deleteForward(o,{unit:"line"});break}case"deleteHardLineBackward":{i.deleteBackward(o,{unit:"block"});break}case"deleteSoftLineBackward":{i.deleteBackward(o,{unit:"line"});break}case"deleteHardLineForward":{i.deleteForward(o,{unit:"block"});break}case"deleteSoftLineForward":{i.deleteForward(o,{unit:"line"});break}case"deleteWordBackward":{i.deleteBackward(o,{unit:"word"});break}case"deleteWordForward":{i.deleteForward(o,{unit:"word"});break}case"insertLineBreak":i.insertSoftBreak(o);break;case"insertParagraph":{i.insertBreak(o);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{$==="insertFromComposition"&&F.isComposing(o)&&(E(!1),tt.set(o,!1)),(_==null?void 0:_.constructor.name)==="DataTransfer"?F.insertData(o,_):typeof _=="string"&&(Z?x.current.push(()=>i.insertText(o,_)):i.insertText(o,_));break}}var me=(N=At.get(o))===null||N===void 0?void 0:N.unref();At.delete(o),me&&(!o.selection||!B.equals(o.selection,me))&&w.select(o,me)}},[o,G,L,a,s,M]),P=S.useCallback(m=>{m==null?(G.cancel(),M.cancel(),Vt.delete(o),at.delete(o),A.current&&Ve&&A.current.removeEventListener("beforeinput",T)):Ve&&m.addEventListener("beforeinput",T),A.current=m},[G,M,o,T]);Pt(()=>{var m=F.getWindow(o);return m.document.addEventListener("selectionchange",M),()=>{m.document.removeEventListener("selectionchange",M)}},[M]);var z=n([o,[]]),Q=u&&o.children.length===1&&Array.from(j.texts(o)).length===1&&j.string(o)===""&&!p,U=S.useCallback(m=>{if(m&&Q){var N;k((N=m.getBoundingClientRect())===null||N===void 0?void 0:N.height)}else k(void 0)},[Q]);if(Q){var ue=i.start(o,[]);z.push({[gt]:!0,placeholder:u,onPlaceholderResize:U,anchor:ue,focus:ue})}var{marks:Y}=o;if(I.hasMarkPlaceholder=!1,o.selection&&B.isCollapsed(o.selection)&&Y){var{anchor:re}=o.selection,ve=j.leaf(o,re.path),se=Dt(ve,_f);if(!H.equals(ve,Y,{loose:!0})){I.hasMarkPlaceholder=!0;var be=Object.fromEntries(Object.keys(se).map(m=>[m,null]));z.push($e($e($e({[Ja]:!0},be),Y),{},{anchor:re,focus:re}))}}return S.useEffect(()=>{setTimeout(()=>{var{selection:m}=o;if(m){var{anchor:N}=m,y=j.leaf(o,N.path);if(Y&&!H.equals(y,Y,{loose:!0})){ke.set(o,Y);return}}ke.delete(o)})}),J.createElement(iu.Provider,{value:s},J.createElement(uu.Provider,{value:n},J.createElement(Zf,{node:A,receivedUserInput:b},J.createElement(h,$e($e({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},D),{},{spellCheck:Ve||!Ht?D.spellCheck:!1,autoCorrect:Ve||!Ht?D.autoCorrect:"false",autoCapitalize:Ve||!Ht?D.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:P,style:$e($e({},C?{}:$e({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},O?{minHeight:O}:{})),g),onBeforeInput:S.useCallback(m=>{if(!Ve&&!s&&!Ee(m,D.onBeforeInput)&&F.hasSelectableTarget(o,m.target)&&(m.preventDefault(),!F.isComposing(o))){var N=m.data;i.insertText(o,N)}},[D.onBeforeInput,o,s]),onInput:S.useCallback(m=>{if(!Ee(m,D.onInput)){if(q.current){q.current.handleInput();return}for(var N of x.current)N();x.current=[]}},[D.onInput]),onBlur:S.useCallback(m=>{if(!(s||I.isUpdatingSelection||!F.hasSelectableTarget(o,m.target)||Ee(m,D.onBlur))){var N=F.findDocumentOrShadowRoot(o);if(I.latestElement!==N.activeElement){var{relatedTarget:y}=m,$=F.toDOMNode(o,o);if(y!==$&&!(Se(y)&&y.hasAttribute("data-slate-spacer"))){if(y!=null&&Je(y)&&F.hasDOMNode(o,y)){var _=F.toSlateNode(o,y);if(W.isElement(_)&&!o.isVoid(_))return}if(pt){var K=N.getSelection();K==null||K.removeAllRanges()}Xe.delete(o)}}}},[s,I.isUpdatingSelection,I.latestElement,o,D.onBlur]),onClick:S.useCallback(m=>{if(F.hasTarget(o,m.target)&&!Ee(m,D.onClick)&&Je(m.target)){var N=F.toSlateNode(o,m.target),y=F.findPath(o,N);if(!i.hasPath(o,y)||j.get(o,y)!==N)return;if(m.detail===Kf&&y.length>=1){var $=y;if(!(W.isElement(N)&&i.isBlock(o,N))){var _,K=i.above(o,{match:ge=>W.isElement(ge)&&i.isBlock(o,ge),at:y});$=(_=K==null?void 0:K[1])!==null&&_!==void 0?_:y.slice(0,1)}var Z=i.range(o,$);w.select(o,Z);return}if(s)return;var ae=i.start(o,y),ne=i.end(o,y),ie=i.void(o,{at:ae}),te=i.void(o,{at:ne});if(ie&&te&&d.equals(ie[1],te[1])){var De=i.range(o,ae);w.select(o,De)}}},[o,D.onClick,s]),onCompositionEnd:S.useCallback(m=>{if(F.hasSelectableTarget(o,m.target)){var N;if(F.isComposing(o)&&Promise.resolve().then(()=>{E(!1),tt.set(o,!1)}),(N=q.current)===null||N===void 0||N.handleCompositionEnd(m),Ee(m,D.onCompositionEnd)||Ae)return;if(!pt&&!Gl&&!Hl&&!Xl&&!Yl&&m.data){var y=ke.get(o);ke.delete(o),y!==void 0&&(We.set(o,o.marks),o.marks=y),i.insertText(o,m.data);var $=We.get(o);We.delete(o),$!==void 0&&(o.marks=$)}}},[D.onCompositionEnd,o]),onCompositionUpdate:S.useCallback(m=>{F.hasSelectableTarget(o,m.target)&&!Ee(m,D.onCompositionUpdate)&&(F.isComposing(o)||(E(!0),tt.set(o,!0)))},[D.onCompositionUpdate,o]),onCompositionStart:S.useCallback(m=>{if(F.hasSelectableTarget(o,m.target)){var N;if((N=q.current)===null||N===void 0||N.handleCompositionStart(m),Ee(m,D.onCompositionStart)||Ae)return;E(!0);var{selection:y}=o;if(y){if(B.isExpanded(y)){i.deleteFragment(o);return}var $=i.above(o,{match:Z=>W.isElement(Z)&&i.isInline(o,Z),mode:"highest"});if($){var[,_]=$;if(i.isEnd(o,y.anchor,_)){var K=i.after(o,_);w.setSelection(o,{anchor:K,focus:K})}}}}},[D.onCompositionStart,o]),onCopy:S.useCallback(m=>{F.hasSelectableTarget(o,m.target)&&!Ee(m,D.onCopy)&&!ca(m)&&(m.preventDefault(),F.setFragmentData(o,m.clipboardData,"copy"))},[D.onCopy,o]),onCut:S.useCallback(m=>{if(!s&&F.hasSelectableTarget(o,m.target)&&!Ee(m,D.onCut)&&!ca(m)){m.preventDefault(),F.setFragmentData(o,m.clipboardData,"cut");var{selection:N}=o;if(N)if(B.isExpanded(N))i.deleteFragment(o);else{var y=j.parent(o,N.anchor.path);i.isVoid(o,y)&&w.delete(o)}}},[s,o,D.onCut]),onDragOver:S.useCallback(m=>{if(F.hasTarget(o,m.target)&&!Ee(m,D.onDragOver)){var N=F.toSlateNode(o,m.target);W.isElement(N)&&i.isVoid(o,N)&&m.preventDefault()}},[D.onDragOver,o]),onDragStart:S.useCallback(m=>{if(!s&&F.hasTarget(o,m.target)&&!Ee(m,D.onDragStart)){var N=F.toSlateNode(o,m.target),y=F.findPath(o,N),$=W.isElement(N)&&i.isVoid(o,N)||i.void(o,{at:y,voids:!0});if($){var _=i.range(o,y);w.select(o,_)}I.isDraggingInternally=!0,F.setFragmentData(o,m.dataTransfer,"drag")}},[s,o,D.onDragStart,I]),onDrop:S.useCallback(m=>{if(!s&&F.hasTarget(o,m.target)&&!Ee(m,D.onDrop)){m.preventDefault();var N=o.selection,y=F.findEventRange(o,m),$=m.dataTransfer;w.select(o,y),I.isDraggingInternally&&N&&!B.equals(N,y)&&!i.void(o,{at:y,voids:!0})&&w.delete(o,{at:N}),F.insertData(o,$),F.isFocused(o)||F.focus(o)}I.isDraggingInternally=!1},[s,o,D.onDrop,I]),onDragEnd:S.useCallback(m=>{!s&&I.isDraggingInternally&&D.onDragEnd&&F.hasTarget(o,m.target)&&D.onDragEnd(m),I.isDraggingInternally=!1},[s,I,D,o]),onFocus:S.useCallback(m=>{if(!s&&!I.isUpdatingSelection&&F.hasEditableTarget(o,m.target)&&!Ee(m,D.onFocus)){var N=F.toDOMNode(o,o),y=F.findDocumentOrShadowRoot(o);if(I.latestElement=y.activeElement,ft&&m.target!==N){N.focus();return}Xe.set(o,!0)}},[s,I,o,D.onFocus]),onKeyDown:S.useCallback(m=>{if(!s&&F.hasEditableTarget(o,m.target)){var N;(N=q.current)===null||N===void 0||N.handleKeyDown(m);var{nativeEvent:y}=m;if(F.isComposing(o)&&y.isComposing===!1&&(tt.set(o,!1),E(!1)),Ee(m,D.onKeyDown)||F.isComposing(o))return;var{selection:$}=o,_=o.children[$!==null?$.focus.path[0]:0],K=ya(j.string(_))==="rtl";if(ce.isRedo(y)){m.preventDefault();var Z=o;typeof Z.redo=="function"&&Z.redo();return}if(ce.isUndo(y)){m.preventDefault();var ae=o;typeof ae.undo=="function"&&ae.undo();return}if(ce.isMoveLineBackward(y)){m.preventDefault(),w.move(o,{unit:"line",reverse:!0});return}if(ce.isMoveLineForward(y)){m.preventDefault(),w.move(o,{unit:"line"});return}if(ce.isExtendLineBackward(y)){m.preventDefault(),w.move(o,{unit:"line",edge:"focus",reverse:!0});return}if(ce.isExtendLineForward(y)){m.preventDefault(),w.move(o,{unit:"line",edge:"focus"});return}if(ce.isMoveBackward(y)){m.preventDefault(),$&&B.isCollapsed($)?w.move(o,{reverse:!K}):w.collapse(o,{edge:K?"end":"start"});return}if(ce.isMoveForward(y)){m.preventDefault(),$&&B.isCollapsed($)?w.move(o,{reverse:K}):w.collapse(o,{edge:K?"start":"end"});return}if(ce.isMoveWordBackward(y)){m.preventDefault(),$&&B.isExpanded($)&&w.collapse(o,{edge:"focus"}),w.move(o,{unit:"word",reverse:!K});return}if(ce.isMoveWordForward(y)){m.preventDefault(),$&&B.isExpanded($)&&w.collapse(o,{edge:"focus"}),w.move(o,{unit:"word",reverse:K});return}if(Ve){if((Ga||pt)&&$&&(ce.isDeleteBackward(y)||ce.isDeleteForward(y))&&B.isCollapsed($)){var ne=j.parent(o,$.anchor.path);if(W.isElement(ne)&&i.isVoid(o,ne)&&(i.isInline(o,ne)||i.isBlock(o,ne))){m.preventDefault(),i.deleteBackward(o,{unit:"block"});return}}}else{if(ce.isBold(y)||ce.isItalic(y)||ce.isTransposeCharacter(y)){m.preventDefault();return}if(ce.isSoftBreak(y)){m.preventDefault(),i.insertSoftBreak(o);return}if(ce.isSplitBlock(y)){m.preventDefault(),i.insertBreak(o);return}if(ce.isDeleteBackward(y)){m.preventDefault(),$&&B.isExpanded($)?i.deleteFragment(o,{direction:"backward"}):i.deleteBackward(o);return}if(ce.isDeleteForward(y)){m.preventDefault(),$&&B.isExpanded($)?i.deleteFragment(o,{direction:"forward"}):i.deleteForward(o);return}if(ce.isDeleteLineBackward(y)){m.preventDefault(),$&&B.isExpanded($)?i.deleteFragment(o,{direction:"backward"}):i.deleteBackward(o,{unit:"line"});return}if(ce.isDeleteLineForward(y)){m.preventDefault(),$&&B.isExpanded($)?i.deleteFragment(o,{direction:"forward"}):i.deleteForward(o,{unit:"line"});return}if(ce.isDeleteWordBackward(y)){m.preventDefault(),$&&B.isExpanded($)?i.deleteFragment(o,{direction:"backward"}):i.deleteBackward(o,{unit:"word"});return}if(ce.isDeleteWordForward(y)){m.preventDefault(),$&&B.isExpanded($)?i.deleteFragment(o,{direction:"forward"}):i.deleteForward(o,{unit:"word"});return}}}},[s,o,D.onKeyDown]),onPaste:S.useCallback(m=>{!s&&F.hasEditableTarget(o,m.target)&&!Ee(m,D.onPaste)&&(!Ve||Ql(m.nativeEvent)||pt)&&(m.preventDefault(),F.insertData(o,m.clipboardData))},[s,o,D.onPaste])}),J.createElement(ec,{decorations:z,node:o,renderElement:l,renderPlaceholder:f,renderLeaf:c,selection:o.selection})))))},rc=t=>{var{attributes:e,children:r}=t;return J.createElement("span",$e({},e),r,Ae&&J.createElement("br",null))},nc=()=>[],ac=(t,e)=>{if(e.getBoundingClientRect&&(!t.selection||t.selection&&B.isCollapsed(t.selection))){var r=e.startContainer.parentElement;r.getBoundingClientRect=e.getBoundingClientRect.bind(e),Hs(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},Ee=(t,e)=>{if(!e)return!1;var r=e(t);return r??(t.isDefaultPrevented()||t.isPropagationStopped())},ca=t=>Je(t.target)&&(t.target instanceof HTMLInputElement||t.target instanceof HTMLTextAreaElement),uc=(t,e)=>{if(!e)return!1;var r=e(t);return r??t.defaultPrevented},sc=S.createContext(!1),ic=S.createContext({});function oc(t){var e=S.useRef([]).current,r=S.useRef({editor:t}).current,n=S.useCallback(u=>{r.editor=u,e.forEach(s=>s(u))},[e,r]),a=S.useMemo(()=>({getSlate:()=>r.editor,addEventListener:u=>(e.push(u),()=>{e.splice(e.indexOf(u),1)})}),[e,r]);return{selectorContext:a,onChange:n}}var lc=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],fc=t=>{var{editor:e,children:r,onChange:n,onSelectionChange:a,onValueChange:u,initialValue:s}=t,l=Dt(t,lc),[c,f]=J.useState(()=>{if(!j.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Ce.stringify(s)));if(!i.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(Ce.stringify(e)));return e.children=s,Object.assign(e,l),{v:0,editor:e}}),{selectorContext:v,onChange:g}=oc(e),h=S.useCallback(o=>{var p;switch(n&&n(e.children),o==null||(p=o.operation)===null||p===void 0?void 0:p.type){case"set_selection":a==null||a(e.selection);break;default:u==null||u(e.children)}f(E=>({v:E.v+1,editor:e})),g(e)},[e,g,n,a,u]);S.useEffect(()=>(Or.set(e,h),()=>{Or.set(e,()=>{})}),[e,h]);var[C,D]=S.useState(F.isFocused(e));return S.useEffect(()=>{D(F.isFocused(e))},[e]),Pt(()=>{var o=()=>D(F.isFocused(e));return Ua>=17?(document.addEventListener("focusin",o),document.addEventListener("focusout",o),()=>{document.removeEventListener("focusin",o),document.removeEventListener("focusout",o)}):(document.addEventListener("focus",o,!0),document.addEventListener("blur",o,!0),()=>{document.removeEventListener("focus",o,!0),document.removeEventListener("blur",o,!0)})},[]),J.createElement(ic.Provider,{value:v},J.createElement(ou.Provider,{value:c},J.createElement(Hr.Provider,{value:c.editor},J.createElement(sc.Provider,{value:C},r))))},va=(t,e)=>{var r=(e.top+e.bottom)/2;return t.top<=r&&t.bottom>=r},da=(t,e,r)=>{var n=F.toDOMRange(t,e).getBoundingClientRect(),a=F.toDOMRange(t,r).getBoundingClientRect();return va(n,a)&&va(a,n)},cc=(t,e)=>{var r=i.range(t,B.end(e)),n=Array.from(i.positions(t,{at:e})),a=0,u=n.length,s=Math.floor(u/2);if(da(t,i.range(t,n[a]),r))return i.range(t,n[a],r);if(n.length<2)return i.range(t,n[n.length-1],r);for(;s!==n.length&&s!==a;)da(t,i.range(t,n[s]),r)?u=s:a=s,s=Math.floor((a+u)/2);return i.range(t,n[u],r)};function Da(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Da(Object(r),!0).forEach(function(n){Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Da(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",n=e,{apply:a,onChange:u,deleteBackward:s,addMark:l,removeMark:c}=n;return rr.set(n,new WeakMap),n.addMark=(f,v)=>{var g,h;(g=Ur.get(n))===null||g===void 0||g(),!ke.get(n)&&(h=ye.get(n))!==null&&h!==void 0&&h.length&&ke.set(n,null),We.delete(n),l(f,v)},n.removeMark=f=>{var v;!ke.get(n)&&(v=ye.get(n))!==null&&v!==void 0&&v.length&&ke.set(n,null),We.delete(n),c(f)},n.deleteBackward=f=>{if(f!=="line")return s(f);if(n.selection&&B.isCollapsed(n.selection)){var v=i.above(n,{match:D=>W.isElement(D)&&i.isBlock(n,D),at:n.selection});if(v){var[,g]=v,h=i.range(n,g,n.selection.anchor),C=cc(n,h);B.isCollapsed(C)||w.delete(n,{at:C})}}},n.apply=f=>{var v=[],g=[],h=ye.get(n);if(h!=null&&h.length){var C=h.map(P=>vf(P,f)).filter(Boolean);ye.set(n,C)}var D=Ge.get(n);D&&Ge.set(n,ra(n,D,f));var o=Ue.get(n);if(o!=null&&o.at){var p=ee.isPoint(o==null?void 0:o.at)?Pr(n,o.at,f):ra(n,o.at,f);Ue.set(n,p?ga(ga({},o),{},{at:p}):null)}switch(f.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{v.push(...ot(n,f.path));break}case"set_selection":{var E;(E=At.get(n))===null||E===void 0||E.unref(),At.delete(n);break}case"insert_node":case"remove_node":{v.push(...ot(n,d.parent(f.path)));break}case"merge_node":{var A=d.previous(f.path);v.push(...ot(n,A));break}case"move_node":{var x=d.common(d.parent(f.path),d.parent(f.newPath));v.push(...ot(n,x));var O;d.isBefore(f.path,f.newPath)?(v.push(...ot(n,d.parent(f.path))),O=f.newPath):(v.push(...ot(n,d.parent(f.newPath))),O=f.path);var k=j.get(e,d.parent(O)),L=F.findKey(n,k),b=i.pathRef(n,d.parent(O));g.push([b,L]);break}}a(f);for(var[V,I]of v){var[q]=i.node(n,V);Jt.set(q,I)}for(var[G,M]of g)if(G.current){var[T]=i.node(n,G.current);Jt.set(T,M)}},n.setFragmentData=f=>{var{selection:v}=n;if(v){var[g,h]=B.edges(v),C=i.void(n,{at:g.path}),D=i.void(n,{at:h.path});if(!(B.isCollapsed(v)&&!C)){var o=F.toDOMRange(n,v),p=o.cloneContents(),E=p.childNodes[0];if(p.childNodes.forEach(q=>{q.textContent&&q.textContent.trim()!==""&&(E=q)}),D){var[A]=D,x=o.cloneRange(),O=F.toDOMNode(n,A);x.setEndAfter(O),p=x.cloneContents()}if(C&&(E=p.querySelector("[data-slate-spacer]")),Array.from(p.querySelectorAll("[data-slate-zero-width]")).forEach(q=>{var G=q.getAttribute("data-slate-zero-width")==="n";q.textContent=G?`
`:""}),Za(E)){var k=E.ownerDocument.createElement("span");k.style.whiteSpace="pre",k.appendChild(E),p.appendChild(k),E=k}var L=n.getFragment(),b=JSON.stringify(L),V=window.btoa(encodeURIComponent(b));E.setAttribute("data-slate-fragment",V),f.setData("application/".concat(r),V);var I=p.ownerDocument.createElement("div");return I.appendChild(p),I.setAttribute("hidden","true"),p.ownerDocument.body.appendChild(I),f.setData("text/html",I.innerHTML),f.setData("text/plain",_a(I)),p.ownerDocument.body.removeChild(I),f}}},n.insertData=f=>{n.insertFragmentData(f)||n.insertTextData(f)},n.insertFragmentData=f=>{var v=f.getData("application/".concat(r))||nf(f);if(v){var g=decodeURIComponent(window.atob(v)),h=JSON.parse(g);return n.insertFragment(h),!0}return!1},n.insertTextData=f=>{var v=f.getData("text/plain");if(v){var g=v.split(/\r\n|\r|\n/),h=!1;for(var C of g)h&&w.splitNodes(n,{always:!0}),n.insertText(C),h=!0;return!0}return!1},n.onChange=f=>{var v=Ua<18?Au.unstable_batchedUpdates:g=>g();v(()=>{var g=Or.get(n);g&&g(f),u(f)})},n},ot=(t,e)=>{var r=[];for(var[n,a]of i.levels(t,{at:e})){var u=F.findKey(t,n);r.push([a,u])}return r};const ha={"mod+b":"bold","mod+u":"underline","mod+`":"code"},ma=["numbered-list","bulleted-list"],Kt=["left","center","right","justify"],dc=({onChange:t,descendant:e,editor:r})=>{const n=S.useCallback(u=>R.jsx(gc,{...u}),[]),a=S.useCallback(u=>R.jsx(hc,{...u}),[]);return S.useMemo(()=>{w.select(r,{offset:0,path:[0,0]})},[r]),R.jsxs(fc,{editor:r,initialValue:e,onChange:t,children:[R.jsxs(Fu,{children:[R.jsx(gr,{format:"bold",icon:"format_bold"}),R.jsx(gr,{format:"underline",icon:"format_underlined"}),R.jsx(gr,{format:"code",icon:"code"}),R.jsx(Ke,{format:"heading-one",icon:"looks_one"}),R.jsx(Ke,{format:"heading-two",icon:"looks_two"}),R.jsx(Ke,{format:"block-quote",icon:"format_quote"}),R.jsx(Ke,{format:"numbered-list",icon:"format_list_numbered"}),R.jsx(Ke,{format:"bulleted-list",icon:"format_list_bulleted"}),R.jsx(Ke,{format:"left",icon:"format_align_left"}),R.jsx(Ke,{format:"center",icon:"format_align_center"}),R.jsx(Ke,{format:"right",icon:"format_align_right"})]}),R.jsx(tc,{renderElement:n,renderLeaf:a,placeholder:"Enter some rich text…",spellCheck:!0,autoFocus:!0,onKeyDown:u=>{for(const s in ha)if(Tu(s,u)){u.preventDefault();const l=ha[s];fu(r,l)}}})]})},Dc=(t,e)=>{const r=cu(t,e,Kt.includes(e)?"align":"type"),n=ma.includes(e);w.unwrapNodes(t,{match:u=>!i.isEditor(u)&&W.isElement(u)&&ma.includes(u.type)&&!Kt.includes(e),split:!0});let a;if(Kt.includes(e)?a={align:r?void 0:e}:a={type:r?"paragraph":n?"list-item":e},w.setNodes(t,a),!r&&n){const u={type:e,children:[]};w.wrapNodes(t,u)}},fu=(t,e)=>{vu(t,e)?i.removeMark(t,e):i.addMark(t,e,!0)},cu=(t,e,r="type")=>{const{selection:n}=t;if(!n)return!1;const[a]=Array.from(i.nodes(t,{at:i.unhangRange(t,n),match:u=>!i.isEditor(u)&&W.isElement(u)&&u[r]===e}));return!!a},vu=(t,e)=>{const r=i.marks(t);return r?r[e]===!0:!1},gc=({attributes:t,children:e,element:r})=>{const n={textAlign:r.align};switch(r.type){case"block-quote":return R.jsx("blockquote",{style:n,...t,children:e});case"bulleted-list":return R.jsx("ul",{style:n,...t,children:e});case"heading-one":return R.jsx("h1",{style:n,...t,children:e});case"heading-two":return R.jsx("h2",{style:n,...t,children:e});case"list-item":return R.jsx("li",{style:n,...t,children:e});case"numbered-list":return R.jsx("ol",{style:n,...t,children:e});default:return R.jsx("p",{style:n,...t,children:e})}},hc=({attributes:t,children:e,leaf:r})=>(r.bold&&(e=R.jsx("strong",{children:e})),r.code&&(e=R.jsx("code",{children:e})),r.italic&&(e=R.jsx("em",{children:e})),r.underline&&(e=R.jsx("u",{children:e})),R.jsx("span",{...t,children:e})),Ke=({format:t,icon:e})=>{const r=Xr();return R.jsx(pa,{active:cu(r,t,Kt.includes(t)?"align":"type"),onMouseDown:n=>{n.preventDefault(),Dc(r,t)},icon:e})},gr=({format:t,icon:e})=>{const r=Xr();return R.jsx(pa,{active:vu(r,t),onMouseDown:n=>{n.preventDefault(),fu(r,t)},icon:e})},mc="index-module_box_c86d5",Cc={box:mc},pc=["正文宋楷","思源黑体","创粗黑","方方先锋体","江南手书","御守锦书","清平手书","Ma Shan Zheng"],Bc=[16,18,20,21,22,23,24],Ec=[400,700],Ac=pc.map(t=>({label:t,value:t})),Fc=Ec.map(t=>({label:t+"",value:t})),bc=Bc.map(t=>({label:t+"px",value:t+"px"}));function wc(t){const e=[];let r="",n=[];return t.forEach(a=>{let u=a.children.reduce((s,l)=>{let c=l.text;return s+=c,s},"");u.startsWith("● ")?n.push({text:u.substring(2)}):(n.length&&(e.push({name:r,detailList:n}),n=[]),r=u)}),n.length&&(e.push({name:r,detailList:n}),n=[]),e}var yc={isHistory(t){return pe(t)&&Array.isArray(t.redos)&&Array.isArray(t.undos)&&(t.redos.length===0||Ye.isOperationList(t.redos[0].operations))&&(t.undos.length===0||Ye.isOperationList(t.undos[0].operations))}},hr=new WeakMap,mr=new WeakMap,ct={isHistoryEditor(t){return yc.isHistory(t.history)&&i.isEditor(t)},isMerging(t){return mr.get(t)},isSaving(t){return hr.get(t)},redo(t){t.redo()},undo(t){t.undo()},withoutMerging(t,e){var r=ct.isMerging(t);mr.set(t,!1),e(),mr.set(t,r)},withoutSaving(t,e){var r=ct.isSaving(t);hr.set(t,!1),e(),hr.set(t,r)}},Oc=t=>{var e=t,{apply:r}=e;return e.history={undos:[],redos:[]},e.redo=()=>{var{history:n}=e,{redos:a}=n;if(a.length>0){var u=a[a.length-1];u.selectionBefore&&w.setSelection(e,u.selectionBefore),ct.withoutSaving(e,()=>{i.withoutNormalizing(e,()=>{for(var s of u.operations)e.apply(s)})}),n.redos.pop(),e.writeHistory("undos",u)}},e.undo=()=>{var{history:n}=e,{undos:a}=n;if(a.length>0){var u=a[a.length-1];ct.withoutSaving(e,()=>{i.withoutNormalizing(e,()=>{var s=u.operations.map(Ye.inverse).reverse();for(var l of s)e.apply(l);u.selectionBefore&&w.setSelection(e,u.selectionBefore)})}),e.writeHistory("redos",u),n.undos.pop()}},e.apply=n=>{var{operations:a,history:u}=e,{undos:s}=u,l=s[s.length-1],c=l&&l.operations[l.operations.length-1],f=ct.isSaving(e),v=ct.isMerging(e);if(f==null&&(f=Sc(n)),f){if(v==null&&(l==null?v=!1:a.length!==0?v=!0:v=xc(n,c)),l&&v)l.operations.push(n);else{var g={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",g)}for(;s.length>100;)s.shift();u.redos=[]}r(n)},e.writeHistory=(n,a)=>{e.history[n].push(a)},e},xc=(t,e)=>!!(e&&t.type==="insert_text"&&e.type==="insert_text"&&t.offset===e.offset+e.text.length&&d.equals(t.path,e.path)||e&&t.type==="remove_text"&&e.type==="remove_text"&&t.offset+t.text.length===e.offset&&d.equals(t.path,e.path)),Sc=(t,e)=>t.type!=="set_selection";const du=[{id:1,nameBackground:"",textListBackground:"",background:"#fff"},{id:2,nameBackground:"",textListBackground:"",background:"transparent"},{id:3,nameBackground:"",textListBackground:"",background:"url(/b-tools/template/template2.jpg) top/100% repeat-y"},{id:4,nameBackground:"",textListBackground:"",header:"url(/b-tools/template/header.jpg) center/100% 100% no-repeat",background:""}],Pc=Array.from({length:10}).map((t,e)=>e+1);function Tc(){const{descendant:t,setDescendant:e}=bu(),[r,n]=S.useState([]),[a,u]=S.useState(!1),[s,l]=S.useState(du[0]),[c,f]=S.useState({id:0,opacity:1}),[v,g]=S.useState({fontWeight:700,fontFamily:"思源黑体",fontSize:"22px",color:"#333"}),[h,C]=S.useState({fontWeight:400,fontFamily:"正文宋楷",fontSize:"18px",color:"#333"}),D=S.useRef([]),[o,p]=S.useState({text:"",num:""}),[E,A]=S.useState({checked:!1,value:""}),x=S.useRef(null),O=S.useRef();O.current||(O.current=Oc(vc(Cl())));function k(){var T;O.current&&((T=O.current)==null||T.children.map(P=>{w.delete(O.current,{at:[0]})}),O.current.children=[{children:[{text:""}]}],e(O.current.children))}const L=S.useCallback(()=>{const T=wc(t);n(T);let P=o.num;P||(P=Math.ceil(t.length/10)+""),D.current=Array.from({length:+P})},[t]),b=S.useCallback(T=>{e(T)},[e]);return{logo:c,template:s,descendant:t,textList:r,editorRef:O,nameStyle:v,textStyle:h,watermark:o,headerInputRef:x,isDownloading:a,watermarkList:D,secondText:E,setSecondChecked:T=>{A({...E,checked:T})},setSecondValue:T=>{A({...E,value:T})},setSecondText:A,setWatermark:p,setNameStyle:g,setTextStyle:C,setTemplate:l,editChange:b,onReset:k,onTransform:L,onCopy:async T=>{if(!T){Nt.error("没有内容",{className:"toast-error"});return}try{await navigator.clipboard.writeText(T),Nt.success("已复制")}catch(P){console.error("Failed to copy: ",P),Nt.error("复制失败")}},onDownload:async()=>{u(!0);try{const T=await Ou({width:450,nodeId:"detailList"});wu(T,"详情.png"),Nt("下载成功")}catch(T){console.log(T)}u(!1)},onChangeLogo:T=>{f({...c,...T})}}}function Ic(){var L;const{template:t,editorRef:e,descendant:r,textList:n,nameStyle:a,textStyle:u,isDownloading:s,watermark:l,watermarkList:c,secondText:f,setSecondChecked:v,setSecondValue:g,setWatermark:h,setTemplate:C,setNameStyle:D,setTextStyle:o,onTransform:p,editChange:E,onReset:A,onDownload:x,onChangeLogo:O}=Tc(),k=!((L=r[0])!=null&&L.children[0].text);return R.jsx(R.Fragment,{children:R.jsxs("div",{className:Cc.box,children:[R.jsx("h2",{children:"Detail Picture"}),R.jsx("div",{className:"editor",children:R.jsxs("div",{className:"left",children:[R.jsx(dc,{onChange:E,descendant:r,editor:e.current}),R.jsxs("div",{className:"btn",children:[R.jsx(ar,{disabled:k,onClick:A,children:"Reset"}),R.jsx(ar,{disabled:k,className:"btn-texthtml",onClick:p,children:"FormatText"}),R.jsx(ar,{disabled:!n.length||s,onClick:x,children:s?"下载中":"下载图片"})]})]})}),R.jsxs("div",{className:"content",children:[t.header&&R.jsx("div",{className:"header",style:{background:`url(${t.header}) center/100% 100% no-repeat`}}),R.jsxs("div",{className:"textList",id:"detailList",style:{background:t.background},children:[R.jsx("div",{className:"watermarkList",id:"watermarkList",children:c.current.map(b=>R.jsx("div",{className:"watermarkText",children:l.text||"长安不止三万里"}))}),n.map((b,V)=>R.jsxs("div",{className:"item",children:[R.jsx("div",{className:"name",style:{...a,background:t.nameBackground},children:`${V+1}. ${b.name}`}),R.jsx("div",{className:"detailList",style:{background:t.textListBackground},children:b.detailList.map((I,q)=>R.jsxs("div",{className:"text",style:{...u},children:[f.checked?f.value:`${V+1}.${q+1} `,I.text]}))})]},V))]}),R.jsxs("div",{className:"options",children:[R.jsxs("div",{className:"font",children:[R.jsxs("div",{className:"title",children:[R.jsx("h3",{children:"title样式"}),R.jsx(Ca,{style:a,setType:b=>{D({...a,...b})}})]}),R.jsxs("div",{className:"textStyle",children:[R.jsx("h3",{children:"text样式"}),R.jsx(Ca,{style:u,setType:b=>{o({...u,...b})}}),R.jsxs("div",{className:"editIndex",children:[R.jsx(yu,{label:"编辑index",checked:f.checked,onChange:v}),R.jsx("input",{className:"textInput",type:"text",value:f.value,onChange:b=>g(b.target.value)})]})]})]}),R.jsxs("div",{className:"watermarkEdit",children:[R.jsx("h3",{children:"水印: "}),R.jsx("input",{type:"text",placeholder:"水印",value:l.text,onChange:b=>h({...l,text:b.target.value})}),R.jsx("h3",{className:"num",children:"数量: "}),R.jsx("input",{type:"text",placeholder:"每10行一水印",className:"numInput",value:l.num,onChange:b=>h({...l,num:b.target.value})})]}),R.jsxs("div",{className:"logoEdit",children:[R.jsx("h3",{children:"logo"}),R.jsxs("div",{className:"gridLogos",children:[Pc.map(b=>R.jsx("img",{src:`/b-tools/templateLogo/logo${b}.png`,onClick:()=>O({id:b})})),R.jsx("div",{className:["emptyLogo"].join(" "),onClick:()=>O({id:0}),children:"空"})]}),R.jsxs("div",{children:["透明度：",R.jsx("input",{type:"range",min:0,max:1,step:.1,onChange:b=>O({opacity:+b.target.value})})]})]}),R.jsxs("div",{className:"templates",children:[R.jsx("h3",{children:"模板"}),R.jsx("div",{className:"templateList",children:du.map(b=>R.jsx("div",{className:["template",t.id===b.id?"selectTemplate":""].join(" "),style:{background:b.background},onClick:()=>C(b)},b.id))})]})]})]})]})})}function Ca({style:t,setType:e}){return R.jsxs(R.Fragment,{children:[R.jsx(ur,{label:"类型: ",OPTIONS:Ac,value:t.fontFamily,onSelect:r=>e({fontFamily:r})}),R.jsx(ur,{label:"大小: ",OPTIONS:bc,value:t.fontSize,onSelect:r=>e({fontSize:r})}),R.jsx(ur,{label:"粗细: ",OPTIONS:Fc,value:t.fontWeight,onSelect:r=>e({fontWeight:r})}),R.jsxs("div",{className:"colorSelect",children:[R.jsx("label",{form:"color",children:"颜色: "}),R.jsx("input",{id:"color",type:"color",value:t.color,onChange:r=>e({color:r.target.value})})]})]})}export{Ic as default};
