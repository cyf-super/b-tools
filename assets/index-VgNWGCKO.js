import{r as i,j as e,A as f}from"./index-gaskCZ2j.js";import{g as Q,B as F}from"./index-WLL4D7WR.js";import{a as J,C as j}from"./utils-jQJzc4JF.js";import{m as v,A as O}from"./index-meQJSjJC.js";const z="index-module_box_46a88",V={box:z},q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC00lEQVR4nO2VMVLbQBSG/zVJQZqYBjKTIvIJgBvoBpgTxJwgogLSoDQBKswJECfAOQG+Ab4BSpGZQBNoYhIGv3wr8ASQ8EiOZ0jBN6PZ1Wr3vf+93X1yemKeBYwtIIitfvlLSzZQy6QFhuo85xjs0Xamp3WQxu6c/kiYX5036xaaaR/HgZwOGEprUldSYIYYpybt65rT6vdtl2gEjqcSOG8NcM7CL84pwkGqB/js/LxUJNOmnD6dbbtYj4Cd8rz9aAtX1zpm0d7pjosYGslQrGpaPttyHYZyYKuY2XXbdJbtb6AbErHXTvqK8yb9UmAnlunDq2k1is4E9vLMrdkRjhddTTEiegwFvMdmese+NorS/hiB346+Um/rdMu1GbpHTsBt2to4WrjryBu6+q3g22fX47USZCEhkHpR5nICiL5DkzI5op0ICIgR8B6bDV7v4XgyfIT9vjZJdUS6VovSNS5kNSSrR2Q1t32ZACYETDjkWs0wEDMp0QTBfoj9I7reYYqfFXx0BbxnaT8x6YKTGqYFJ3VSeCFmivC1RDa8iMQx2EJdG+dBWtE5wndpxN6u0pRmbsMiSvguIhpubt264qphJOJbaWbXbJ+mpRuSsx23Qlsa79f8dhDFCZVqr8qhu3W+7Hz957qS1jrvh1VEDG+Gw1gPI51R9fouCG4bkb+cUng1UNNJ4YuaIkp0l35SNpOzG9bUgIOPwY45nSOgpRL4MzNVU88XpCwKBJxuu9D/J64HWfFKVAK/VkYAQyVEtOiN8q003shQgCpwW3OOCfyA9aTVHwj+34hYqSJiHAHeOf8Gf3uW/c1jvbLB/qU6iJhnIKESdhjOMeV0cVdgkYBsKwiGbo6BKeTgtThDMwQbelus/4vfXyZFdOd5CkH1zLBePBTgAyG6H3Qf40Ic+NpNtU0FrB+fhwLGgfXj8yzgvxAgKShbxIr4JwGT4FnAkwv4A4hoYhuMkolmAAAAAElFTkSuQmCC";function Z(){const{files:u,setFiles:p}=Q(),[n,N]=i.useState([]),[g,y]=i.useState([]),[l,S]=i.useState([]),[r,D]=i.useState([]),[c,C]=i.useState([]),[o,B]=i.useState([]),[d,w]=i.useState(!0),[h,E]=i.useState(!1),[x,I]=i.useState(!0),m=i.useRef(null);i.useEffect(()=>{if(!m.current)return;const s=m.current;return s.addEventListener("paste",A),()=>{s.removeEventListener("paste",A)}},[m]),i.useEffect(()=>{u.length&&b(u,{suffix:d,onlyDir:h,subDir:x})},[d,h,x,u]);const A=s=>{s.preventDefault();const t=s.clipboardData.files;b([...t],{suffix:d,onlyDir:h,subDir:x}),p([...t])},L=s=>{const t=s.target.files;p([]),t&&(p([...t]),s.target.value="",f.success("上传成功"))};function b(s,{suffix:t,onlyDir:G,subDir:T}){const a=J(s,{isSuffix:t,isDir:G,isAddSubDir:T});console.log("info ",a),N(a.nameList),y(a.typeList),D(a.imgDir),S(a.urlDir),C(a.textDir),B(a.zipDir)}const Y=async()=>{let s="";n.forEach(t=>{s+=t+`
`}),s+=`
上面是一个视频教程的目录，你是一个顶级的产品专家和营销专家，帮我总结一下大致内容，要求：分点总结，简单易懂，创意新颖； 最后再根据这个教程的主题给出10句吸引用户的宣传语/营销语，同样要求有创意，能抓住用户眼球，可以有多种风格，比如幽默、励志、文艺风等等`;try{await navigator.clipboard.writeText(s),f.success("已复制")}catch(t){console.error("Failed to copy: ",t),f.error("复制失败")}},k=s=>{const t=[...n];t.splice(s,1),N(t)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:V.box,ref:m,children:[e.jsx("h2",{children:"File Analyze"}),e.jsxs("div",{className:"upload",children:[e.jsx("input",{type:"file",className:"file",webkitdirectory:"",onChange:L}),e.jsx("img",{src:q,alt:""}),e.jsx("div",{className:"text",children:"将文件夹拖到此处，或点击上传"})]}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"left",children:[e.jsxs("div",{className:"header",children:[e.jsx(F,{className:"copy",disabled:n.length===0,onClick:Y,children:"copy"}),e.jsxs("div",{className:"fileNum",children:["文件数量：",n.length]}),e.jsxs("div",{className:"typeNum",title:g.join(","),children:["文件种类：",g.length]}),e.jsx("div",{className:"typeWarn",children:g.join(", ")})]}),e.jsx(v.ul,{layout:!0,layoutId:"list",className:"list-container",children:e.jsx(O,{children:n.map((s,t)=>e.jsxs(v.li,{initial:{y:-200,opacity:0},animate:{y:0,opacity:1},exit:{opacity:0},className:"item",children:[s,e.jsx("span",{className:"delIcon",onClick:()=>k(t)})]},s))})})]}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"suffix",children:e.jsx(j,{checked:d,label:"是否带上后缀",onChange:w})}),e.jsx("div",{className:"subDir",children:e.jsx(j,{checked:x,label:"是否带上子目录",onChange:I})}),e.jsx("div",{className:"onlyDir",children:e.jsx(j,{checked:h,label:"是否针对文件夹",onChange:E})}),e.jsxs("div",{className:"zipList",children:[e.jsxs("p",{className:o.length?"warning":"",children:["是否有压缩文件",o.length?`【${o.length}】`:""]}),o.map(s=>e.jsx("div",{className:"dir",children:s},s))]}),e.jsxs("div",{className:"textList",children:[e.jsxs("p",{className:c.length?"warning":"",children:["是否有txt文件",c.length?`【${c.length}】`:""]}),c.map(s=>e.jsx("div",{className:"dir",children:s},s))]}),e.jsxs("div",{className:"urlList",children:[e.jsxs("p",{className:l.length?"warning":"",children:["是否有链接",l.length?`【${l.length}】`:""]}),l.map(s=>e.jsx("div",{className:"dir",children:s},s))]}),e.jsxs("div",{className:"imageList",children:[e.jsxs("p",{className:r.length?"warning":"",children:["是否有图片",r.length?`【${r.length}】`:""]}),r.map(s=>e.jsx("div",{className:"dir",children:s},s))]})]})]})]})})}export{Z as default};
